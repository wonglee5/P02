if (self.CavalryLogger) { CavalryLogger.start_js(["8+YOp"]); }

__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"};}),null);
__d("VideoHomeEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",UNIT_PREFETCH:"unit_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SWIPE:"swipe",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",MARK_DATA_DIRTY:"mark_data_dirty",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss",VIDEO_JEWEL_IMPRESSION:"video_jewel_impression",SCROLL_PERF:"scroll_perf",SCROLL_PERF_HSCROLL:"scroll_perf_hscroll",APPENDED_HSCROLL_STORIES:"appended_hscroll_stories",LOAD_UNIT_ATTEMPT:"load_unit_attempt"};}),null);
__d("VideoHomeEventTargets",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",SPINNER:"spinner",NONE:"none"};}),null);
__d("VideoHomeExitPointTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"};}),null);
__d("VideoHomeLoggerFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CHANNEL_ID:"channel_id",REACTION_CHANNEL_ID:"reaction_channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",CREATOR_STATUS:"creator_status",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",WITH_FETCH_CURSOR:"with_fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",SCROLL_PERF_DURATION:"scroll_perf_duration",SCROLL_PERF_SMALL_DROP:"scroll_perf_small_drop",SCROLL_PERF_LARGE_DROP:"scroll_perf_large_drop",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components",ELIGIBLE_FOR_HSCROLL_COUNT:"eligible_for_hscroll_count",RENDERED_IN_HSCROLL_COUNT:"rendered_in_hscroll_count",ASYNCHRONOUSLY_LOADED_HSCROLL_CONTENT:"asynchronously_loaded_hscroll_content",FIRST_N:"first_n",EXCEPTION:"exception",REQUESTED_UNIT_IDS:"requested_unit_ids",GENERATED_UNIT_IDS:"generated_unit_ids"};}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};}),null);
__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={orderedValues:["sd","hd","uhd"]};}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;}),null);
__d('VideoChannelViewChainLengthManager',['guid'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){'use strict';this.$VideoChannelViewChainSession1=c('guid')();this.$VideoChannelViewChainSession2=0;this.$VideoChannelViewChainSession3=k;this.$VideoChannelViewChainSession4={};this.$VideoChannelViewChainSession4[k]=0;this.$VideoChannelViewChainSession5=k;}h.prototype.registerVideoID=function(k){'use strict';if(this.$VideoChannelViewChainSession4[k]===undefined){this.$VideoChannelViewChainSession2++;this.$VideoChannelViewChainSession4[k]=this.$VideoChannelViewChainSession2;}this.$VideoChannelViewChainSession5=k;};h.prototype.getSessionID=function(){'use strict';return this.$VideoChannelViewChainSession1;};h.prototype.getCurrentChainLength=function(){'use strict';return this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]!==undefined?this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]:null;};var i={},j={_ensureSessionID:function k(l){l=l.toString();if(!i[l])i[l]=new h(l);},getLoggingData:function k(l){if(l)l=l.toString();var m=i&&i[l];if(!m)return {video_chaining_depth_level:null,video_chaining_session_id:null};return {video_chaining_depth_level:m.getCurrentChainLength(),video_chaining_session_id:m.getSessionID()};},registerChainingInfos:function k(l,m){var n=l;if(m){var o=m.decode();if(o.root_id)n=o.root_id;}if(n)n=n.toString();this.registerVideoID(n,l);},registerVideoID:function k(l,m){l=l.toString();this._ensureSessionID(l);i[l].registerVideoID(m);}};f.exports=j;}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i=null,j=null,k=null,l=0,m=null,n={startSession:function o(p,q,r){i=q;k=r;j=p;c('Arbiter').inform('LogEnterChannel',q);c('VideoChannelViewChainLengthManager').registerVideoID(p,p);var s={};s[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;n.log(s);h=Date.now();c('Run').onLeave(n.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,n.endSession);},endSession:function o(){if(i){c('Arbiter').inform('LogExitChannel',i);var p={};p[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;n.log(p);i=null;j=null;k=null;m=null;h=0;}},setOffset:function o(p){l=p;},setPosition:function o(p){m=p;},getPlayerLoggingData:function o(){if(!i)return {};return {video_channel_id:i,position_in_channel:m+l};},log:function o(p){var q=c('VideoChannelViewChainLengthManager').getLoggingData(j);p[c('VideoChannelLoggerFields').SESSION_ID]=q.video_chaining_session_id;p[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=i;p[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=k;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in p))p[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=m+l;if(h){var r=Date.now()-h;p[c('VideoChannelLoggerFields').TIME_SINCE_START]=r+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',p);}};f.exports=n;}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('VideoQualityClassInternal').orderedValues;}),null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents','arrayContains'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m);};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m);};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict';};k.isImplementationUnavailable=function(){'use strict';return true;};f.exports=k;}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){Object.assign(this,i);}f.exports=h;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=-1;function i(k,event){var l=event.timeStamp;if(l){var m=l.toString().length-Date.now().toString().length;if(m!==0)l=Math.round(l/Math.pow(10,m));k.time_ms=l;}else k.time_ms=Date.now();return k;}var j={initLogger:function k(l,m){this._loggedEvents={};this._logFunction=l;this._useEventTime=m;var n=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(n);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=n.volume;this._lastPlayedTime=h;var o=false;if(n.readyState>=n.HAVE_FUTURE_DATA){this._logReadyToPlay();}else o=true;if(this.skipSubscriptions())return;var p=this.getSubscriptions();if(o)p.addSubscriptions(c('EventListener').listen(n,'canplay',this._logReadyToPlay.bind(this)));p.addSubscriptions(c('EventListener').listen(n,'ended',this.onEnded.bind(this)),c('EventListener').listen(n,'pause',this.onPause.bind(this)),c('EventListener').listen(n,'playing',this.onPlaying.bind(this)),c('EventListener').listen(n,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(n,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(n,'play',this.onPlay.bind(this)),c('EventListener').listen(n,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(n,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(n,'volumechange',this.onVolumeChange.bind(this)),c('EventListener').listen(n,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function k(){return false;},onCanPlay:function k(l){this._logReadyToPlay(l);},onPlay:function k(l){this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function k(event,l){if(this._loggedEvents[event])return;this._logEvent(event,l);},_logEvent:function k(event,l){this._loggedEvents[event]=true;var m=l?l:{};m.video_id=this.getVideoID();if(!m.hasOwnProperty('video_time_position'))m.video_time_position=this._getVideoCurrentTime();if(!m.time_ms)m.time_ms=Date.now();m.time=Math.round(m.time_ms/1000);if(this.getAdClientToken){var n=this.getAdClientToken();if(n)m.ad_client_token=n;}if(this.getPlayerFormat)m.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)m.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)m.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,m);},_logReadyToPlay:function k(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function k(l){var m=this.getVideoElement();if(this._pendingPlayRequest){var n={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,n);return;}var event=m.ended?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,o=this._getVideoCurrentTime();if(o)this._lastPlayedTime=o;var p=this._lastPlayedTime,q=l.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){p=Math.max(p,m.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)q=q||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:p,debug_reason:q},l));this._lastStartTimePosition=h;},onEnded:function k(){if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},onRepresentationEnded:function k(l){var m=l.detail;if(m){var n={representation_id:m.representationID,next_representation_id:m.nextRepresentationID,stream_switch_reason:m.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var o=this.getVideoElement();this._lastPlayedTime=this._getVideoCurrentTime();var p=this._lastPlayedTime;n=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:p},n),l);}this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,n);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var q=this._getVideoCurrentTime();this._lastStartTimePosition=q;this._lastPlayedTime=q;}}},addWatchTimeData:function k(l){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){l.video_last_start_time_position=this._lastStartTimePosition;l.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return l;},getLastPlayReason:function k(){return null;},getVideoPlayReason:function k(){return null;},onPlaying:function k(l){if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var m=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,n=this._amendEventTime({debug_reason:m,video_play_reason:this.getVideoPlayReason()},l),o=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var p=this.getVideoElement().currentTime,q=p-o;n.time_ms-=Math.round(q*1000);}this._logEvent(event,n);this._lastStartTimePosition=o;this._lastPlayedTime=o;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function k(){this._allowNextSeek=true;},onSeeked:function k(l){this._seeking=false;var m=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var n={video_seek_source_time_position:m};if(this._lastStartTimePosition!==h){n.video_last_start_time_position=this._lastStartTimePosition;}else n.video_last_start_time_position=m;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(n,l));var o=this.getVideoElement();if(o.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function k(l){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function k(l){this._currentTimeAtLoadedMetadataCache=null;var m=this.getVideoElement();if(!m.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function k(l){var m=this.getVideoElement(),n={},event=null;if(c('VideoPlayerHTML5Experiments').useFixedVolumeLogging){var o=m.muted,p=this._muted,q=m.volume,r=this._volume;n.current_volume=Math.round(q*100);this._volume=q;this._muted=o;var s=o||q==0,t=p||r==0;if(t&&s)return;if(t!=s){if(s){event=c('VideoPlayerLoggerEvent').MUTED;}else event=c('VideoPlayerLoggerEvent').UNMUTED;}else{if(r==q)return;if(q<r){event=c('VideoPlayerLoggerEvent').VOLUME_DECREASE;}else event=c('VideoPlayerLoggerEvent').VOLUME_INCREASE;}}else{if(m.muted!==this._muted&&m.volume===this._volume&&m.volume>0){event=m.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=m.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;n.current_volume=Math.round(m.volume*100);}this._muted=m.muted;this._volume=m.volume;}this._logEvent(event,this._amendEventTime(n,l));},_amendEventTime:function k(l,event){if(this._useEventTime){return i(l,event);}else l.time_ms=Date.now();return l;},_getVideoCurrentTime:function k(){var l=this.getVideoElement().currentTime.toFixed(2);if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)l=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c('VideoPlayerHTML5Experiments').fixCurrentTimeType)return +l;return l;},onLoadedMetadata:function k(l){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=j;}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;}),null);
__d('VideoMimeTypes',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/live\/broadcast\/captions\/uri\/",{video_id:{type:"String"}});}),null);
__d('canVideoPlayType',['DOM'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j);}f.exports=i;}),null);
__d('forwardEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){!(k instanceof window.HTMLMediaElement)?h(0):void 0;if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(l){}if(i.currentTime){var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var n=c('EventListener').listen(i,'seeked',function(){n.remove();k&&k();});});}f.exports=h;}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});}),null);
__d('VideoPlayerHTML5Api',['cx','AsyncRequest','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','MediaBufferingDetector','RTISubscriptionManager','Run','SubscriptionsHandler','VideoData','VideoMimeTypes','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoQualityClasses','XLiveBroadcastCaptionsURIFetchAsyncController','canVideoPlayType','dispatchCustomEvent','dispatchEvent','classWithMixins','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','supportsHTML5Video'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();function k(o){switch(o){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function l(o){switch(o){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+o+' is unknown';}}var m=-1;i=babelHelpers.inherits(n,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function n(o,p){'use strict';j.constructor.call(this);this.getDebug=function(){return {VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api29};}.bind(this);this.$VideoPlayerHTML5Api28=o;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api28.id;var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api28);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api41=q.width;this.$VideoPlayerHTML5Api11=q.height;if(p){this.$VideoPlayerHTML5Api6=p;}else this.$VideoPlayerHTML5Api6=JSON.parse(this.$VideoPlayerHTML5Api28.getAttribute('data-config'));this.$VideoPlayerHTML5Api5=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api28);this.$VideoPlayerHTML5Api5.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api43();}.bind(this));this.$VideoPlayerHTML5Api5.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api44();}.bind(this));this.$VideoPlayerHTML5Api19=m;this.$VideoPlayerHTML5Api21=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api28);this.$VideoPlayerHTML5Api39=this.$VideoPlayerHTML5Api28.volume;this.$VideoPlayerHTML5Api20=false;this.$VideoPlayerHTML5Api17=null;this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api28.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api38=false;this.$VideoPlayerHTML5Api9=false;this.$VideoPlayerHTML5Api32=false;if(this.$VideoPlayerHTML5Api6.lazyPreload)if(this.$VideoPlayerHTML5Api6.onafterloadRegister){c('Run').onAfterLoad(function(){return this.$VideoPlayerHTML5Api28.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);}.bind(this));}else this.$VideoPlayerHTML5Api28.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);this.$VideoPlayerHTML5Api8=this.$VideoPlayerHTML5Api6.disableNativeControls;this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api6.subtitlesActive;this.$VideoPlayerHTML5Api45();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api33=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api46();this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api6.useRateLimited;var r=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api14=this.$VideoPlayerHTML5Api6.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api6.minQuality)>=r;this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api6.minQuality;this.$VideoPlayerHTML5Api23=this.$VideoPlayerHTML5Api6.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api6.accessToken;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api6.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api47.bind(this),this.$VideoPlayerHTML5Api6.useEventTime);this.$VideoPlayerHTML5Api48();if(this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Spherical&&!this.$VideoPlayerHTML5Api6.fallbackSources)this.$VideoPlayerHTML5Api49();this.$VideoPlayerHTML5Api26=null;this.$VideoPlayerHTML5Api42=false;}n.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api6.ad_client_token;};n.prototype.$VideoPlayerHTML5Api43=function(){'use strict';this.emit('buffering');};n.prototype.$VideoPlayerHTML5Api44=function(){'use strict';this.emit('buffered');};n.prototype.$VideoPlayerHTML5Api50=function(){'use strict';this.emit('streamInterrupted');this.$VideoPlayerHTML5Api42=true;};n.prototype.$VideoPlayerHTML5Api51=function(){'use strict';this.emit('streamResumed');this.$VideoPlayerHTML5Api42=false;};n.prototype.isStreamInterrupted=function(){'use strict';return this.$VideoPlayerHTML5Api42;};n.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api7)return this.$VideoPlayerHTML5Api7.getVideoID();return this.$VideoPlayerHTML5Api6.video_id;};n.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api28;};n.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api28;};n.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api33;};n.onImplementationReady=function(o,p){'use strict';p();};n.prototype.destroy=function(o){'use strict';if(this.$VideoPlayerHTML5Api9)return;this.$VideoPlayerHTML5Api9=true;this.abortLoading(o);this.$VideoPlayerHTML5Api52();if(this.$VideoPlayerHTML5Api53)c('DOM').remove(this.$VideoPlayerHTML5Api53);if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.destroy();};n.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api7)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api7.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api13,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api29?'DASH manifest':this.$VideoPlayerHTML5Api54(),hasSubtitles:this.$VideoPlayerHTML5Api7.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api7.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api15,projection:this.$VideoPlayerHTML5Api55(),tagSD:this.$VideoPlayerHTML5Api7.getSDTag(),tagHD:this.$VideoPlayerHTML5Api7.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api7.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api7.getLiveManifestUrl()};};n.isImplementationUnavailable=function(o){'use strict';if(o){var p=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);if(c('VideoPlayerHTML5Experiments').relaxedCanPlay)return p!=='probably'&&p!=='maybe';return p!=='probably';}return !c('supportsHTML5Video')();};n.prototype.pause=function(o){'use strict';this.$VideoPlayerHTML5Api17=o;if(o==='unloaded'&&!this.$VideoPlayerHTML5Api56()){this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api57();if(this.$VideoPlayerHTML5Api29){if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.prepareScreenshot();this.$VideoPlayerHTML5Api29.pause();}else this.$VideoPlayerHTML5Api28.pause();};n.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api27){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api27=true;this.$VideoPlayerHTML5Api28.setAttribute('preload','auto');}};n.prototype.play=function(o){'use strict';if(!this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37=o;this.$VideoPlayerHTML5Api18=o;if(!this.$VideoPlayerHTML5Api56()){this.$VideoPlayerHTML5Api59();return;}this.$VideoPlayerHTML5Api25=true;if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api28,'play');this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api3=true;return;}this.$VideoPlayerHTML5Api60();};n.prototype.$VideoPlayerHTML5Api57=function(){'use strict';if(this.$VideoPlayerHTML5Api3&&this.$VideoPlayerHTML5Api28.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api28,'pause');this.$VideoPlayerHTML5Api61();};n.prototype.$VideoPlayerHTML5Api61=function(){'use strict';this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api3=false;};n.prototype.$VideoPlayerHTML5Api62=function(){'use strict';this.$VideoPlayerHTML5Api28.setAttribute('preload','auto');this.$VideoPlayerHTML5Api27=true;this.$VideoPlayerHTML5Api28.load();this.$VideoPlayerHTML5Api28.muted=this.$VideoPlayerHTML5Api21;};n.prototype.seek=function(o){'use strict';this.allowNextSeekInMixin();this.$VideoPlayerHTML5Api28.currentTime=o;};n.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api28,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api28,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api28,"_56jt");this.$VideoPlayerHTML5Api28.style.marginLeft='';this.$VideoPlayerHTML5Api28.style.marginTop='';this.$VideoPlayerHTML5Api28.style.width='';this.$VideoPlayerHTML5Api28.style.height='';};n.prototype.applyRotation=function(o){'use strict';if(!o)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api28,"_56jr",o==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api28,"_56js",o==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api28,"_56jt",o==270);if(o==180)return;var p=this.$VideoPlayerHTML5Api11,q=this.$VideoPlayerHTML5Api41,r=(p-q)/2,s=(q-p)/2;this.$VideoPlayerHTML5Api28.style.marginLeft=s+'px';this.$VideoPlayerHTML5Api28.style.marginTop=r+'px';this.$VideoPlayerHTML5Api28.style.height=q+'px';this.$VideoPlayerHTML5Api28.style.width=p+'px';};n.prototype.switchVideo=function(o){'use strict';if(!this.$VideoPlayerHTML5Api6.videoData||this.$VideoPlayerHTML5Api6.videoData.length<=o)return;var p=new (c('VideoData'))(this.$VideoPlayerHTML5Api6.videoData[o]);this.$VideoPlayerHTML5Api7=p;if((p.hasDashManifest()||p.isLiveStream())&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api6.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var q,r;q=p.getDashManifest();if(p.isLiveStream())r=p.getLiveManifestUrl();var s=new this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api28,p.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,minPlayQuality:this.$VideoPlayerHTML5Api22,maxPlayQuality:this.$VideoPlayerHTML5Api23,width:this.$VideoPlayerHTML5Api41,height:this.$VideoPlayerHTML5Api11,manifest:q,manifestUrl:r,isLive:p.isLiveStream(),videoID:this.getVideoID()});s.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api43();}.bind(this));s.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api44();}.bind(this));s.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));s.addListener('streamInterrupted',function(){return this.$VideoPlayerHTML5Api50();}.bind(this));s.addListener('streamResumed',function(){return this.$VideoPlayerHTML5Api51();}.bind(this));s.addListener('adaptation',function(t){var u=t.reason;this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:u});this.emit('qualityChange');}.bind(this));s.addListener('representation_ended',function(t){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Api28,'representationended',t);}.bind(this));s.addListener('debug/shakaEvent',function(t){return this.emit('debug/shakaEvent',t);}.bind(this));s.addListener('error',function(t){return this.$VideoPlayerHTML5Api63(t);}.bind(this));this.$VideoPlayerHTML5Api29=s;this.$VideoPlayerHTML5Api10.remove();}else this.$VideoPlayerHTML5Api28.src=this.$VideoPlayerHTML5Api54();this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.removeSubtitles();if(p.hasSubtitles())this.$VideoPlayerHTML5Api64(this.$VideoPlayerHTML5Api7.getSubtitlesSrc());this.removeRotation();this.applyRotation(p.getRotation());};n.prototype.switchToStreamType=function(o){'use strict';};n.prototype.replaceVideoDataFromURL=function(o){'use strict';};n.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};n.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api21=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api28.muted=false;};n.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api21=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api28.muted=true;};n.prototype.setRotation=function(o){'use strict';this.removeRotation();this.applyRotation(o);};n.prototype.setDimensions=function(o,p){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api41=o;this.$VideoPlayerHTML5Api11=p;this.applyRotation(this.$VideoPlayerHTML5Api7.getRotation());if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.updateDimensions(o,p);if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setDimensions(o,p);if(this.$VideoPlayerHTML5Api29)this.$VideoPlayerHTML5Api29.setDimensions(o,p);if(this.$VideoPlayerHTML5Api34)this.$VideoPlayerHTML5Api34.setDimensions(o);this.emit('dimensionsChange',o,p);};n.prototype.$VideoPlayerHTML5Api65=function(){'use strict';this.$VideoPlayerHTML5Api28.controls=!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api45=function(){'use strict';this.$VideoPlayerHTML5Api28.controls=this.$VideoPlayerHTML5Api28.controls&&!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api46=function(){'use strict';this.$VideoPlayerHTML5Api10=c('EventListener').listen(this.$VideoPlayerHTML5Api28,'error',this.$VideoPlayerHTML5Api66.bind(this));this.$VideoPlayerHTML5Api33.addSubscriptions(this.$VideoPlayerHTML5Api10,c('EventListener').listen(this.$VideoPlayerHTML5Api28,'playing',this.$VideoPlayerHTML5Api67.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'play',this.$VideoPlayerHTML5Api59.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'ended',this.$VideoPlayerHTML5Api68.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'waiting',this.$VideoPlayerHTML5Api69.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'pause',this.$VideoPlayerHTML5Api70.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'volumechange',this.$VideoPlayerHTML5Api71.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'mousedown',this.$VideoPlayerHTML5Api72.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'mouseup',this.$VideoPlayerHTML5Api73.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'timeupdate',this.$VideoPlayerHTML5Api74.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'click',this.$VideoPlayerHTML5Api75.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'loadedmetadata',this.$VideoPlayerHTML5Api76.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'progress',this.$VideoPlayerHTML5Api77.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api28,'seeked',this.$VideoPlayerHTML5Api78.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api28.parentNode,'pause',this.$VideoPlayerHTML5Api79.bind(this)));if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api33.addSubscriptions(this.$VideoPlayerHTML5Api30.getSubscriptions());};n.prototype.$VideoPlayerHTML5Api79=function(o){'use strict';if(o.target!==this.$VideoPlayerHTML5Api28)return;if(!this.$VideoPlayerHTML5Api28.ended){if(this.$VideoPlayerHTML5Api17==='unloaded'){this.preventPauseLoggingInMixin=false;o.preventDefault();o.stopPropagation();}o.lastPauseReason=this.$VideoPlayerHTML5Api17;}};n.prototype.$VideoPlayerHTML5Api77=function(){'use strict';var o=this.$VideoPlayerHTML5Api28.buffered,p=0,q=0,r=o.length;while(r-->0){var s=o.end(r),t=o.start(r);if(t<=this.$VideoPlayerHTML5Api28.currentTime){q=t;p=s-t;break;}}this.$VideoPlayerHTML5Api48();this.$VideoPlayerHTML5Api80('flash/updateBuffer',{duration:p,offset:q});};n.prototype.$VideoPlayerHTML5Api48=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api24);if(this.$VideoPlayerHTML5Api28.networkState===this.$VideoPlayerHTML5Api28.NETWORK_LOADING)this.$VideoPlayerHTML5Api24=setTimeout(function(){return this.$VideoPlayerHTML5Api81();}.bind(this),n.networkTimeout);};n.prototype.$VideoPlayerHTML5Api81=function(){'use strict';var o=this.$VideoPlayerHTML5Api28.buffered,p=0;for(var q=0;q<o.length;q++){var r=o.start(q),s=o.end(q);p+=s-r;}this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:p});};n.prototype.$VideoPlayerHTML5Api74=function(){'use strict';var o;if(this.$VideoPlayerHTML5Api1){o=this.$VideoPlayerHTML5Api1.currentTime;}else o=this.$VideoPlayerHTML5Api28.currentTime;this.$VideoPlayerHTML5Api80('flash/updateStatus',{position:+o.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api75=function(o){'use strict';if(o.button!==0)return;this.emit('clickVideo');o.preventDefault();};n.prototype.$VideoPlayerHTML5Api56=function(){'use strict';return this.$VideoPlayerHTML5Api28.paused;};n.prototype.$VideoPlayerHTML5Api82=function(){'use strict';var o=this.$VideoPlayerHTML5Api28.buffered;return (o.length>0&&o.start(0)===0&&o.end(0)===this.$VideoPlayerHTML5Api28.duration);};n.prototype.$VideoPlayerHTML5Api69=function(){'use strict';if(!this.$VideoPlayerHTML5Api82()){this.$VideoPlayerHTML5Api40=true;this.$VideoPlayerHTML5Api80('flash/buffering');}};n.prototype.setVolume=function(o){'use strict';this.$VideoPlayerHTML5Api28.volume=o;};n.prototype.$VideoPlayerHTML5Api71=function(){'use strict';if(this.$VideoPlayerHTML5Api28.muted!==this.$VideoPlayerHTML5Api21&&this.$VideoPlayerHTML5Api28.volume===this.$VideoPlayerHTML5Api39&&this.$VideoPlayerHTML5Api28.volume>0){this.$VideoPlayerHTML5Api21=this.$VideoPlayerHTML5Api28.muted;this.$VideoPlayerHTML5Api39=this.$VideoPlayerHTML5Api28.volume;if(!this.$VideoPlayerHTML5Api28.muted){this.$VideoPlayerHTML5Api80('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api80('flash/muteVideo');}else{this.$VideoPlayerHTML5Api21=this.$VideoPlayerHTML5Api28.muted;this.$VideoPlayerHTML5Api39=this.$VideoPlayerHTML5Api28.volume;this.$VideoPlayerHTML5Api80('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api28.volume});}if(!this.$VideoPlayerHTML5Api28.muted)this.$VideoPlayerHTML5Api80('flash/turnOffAutoplay',{reason:'unmuted'});};n.prototype.$VideoPlayerHTML5Api72=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api20=true;};n.prototype.$VideoPlayerHTML5Api73=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api20=false;};n.prototype.$VideoPlayerHTML5Api67=function(){'use strict';if(this.$VideoPlayerHTML5Api40){this.$VideoPlayerHTML5Api40=false;this.$VideoPlayerHTML5Api80('flash/buffered');}this.$VideoPlayerHTML5Api83();};n.prototype.$VideoPlayerHTML5Api59=function(){'use strict';this.$VideoPlayerHTML5Api13=true;this.$VideoPlayerHTML5Api65();this.$VideoPlayerHTML5Api84();this.$VideoPlayerHTML5Api80('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api28.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api18});this.$VideoPlayerHTML5Api48();};n.prototype.$VideoPlayerHTML5Api70=function(){'use strict';if(this.$VideoPlayerHTML5Api28.ended){this.$VideoPlayerHTML5Api13=false;return;}if(this.$VideoPlayerHTML5Api28.seeking&&this.$VideoPlayerHTML5Api17===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api20)return;if(this.$VideoPlayerHTML5Api17===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api17=null;return;}if(this.$VideoPlayerHTML5Api17===null||this.$VideoPlayerHTML5Api17===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api80('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api17=null;this.$VideoPlayerHTML5Api13=false;this.$VideoPlayerHTML5Api45();this.$VideoPlayerHTML5Api80('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api28.currentTime.toFixed(2)});};n.prototype.$VideoPlayerHTML5Api68=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api45();this.$VideoPlayerHTML5Api13=false;this.$VideoPlayerHTML5Api80('flash/finishPlayback');this.setRelativeSphericalOrientation(0,0);this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.hideSubtitles();this.$VideoPlayerHTML5Api85();};n.prototype.$VideoPlayerHTML5Api78=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api28.currentTime.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api86=function(){'use strict';if(this.isMuted()&&!this.$VideoPlayerHTML5Api38)this.unmute();this.$VideoPlayerHTML5Api38=true;this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').VIEWPORT_ROTATED,{});};n.prototype.setRelativeSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setRelativeSphericalOrientation(o,p);};n.prototype.setSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.setSphericalOrientation(o,p);this.emit('sphericalOrientationChange',o,p);}};n.prototype.setSphericalFieldOfView=function(o){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setFieldOfView(o);};n.prototype.getSphericalViewportDimensions=function(){'use strict';return this.$VideoPlayerHTML5Api30?this.$VideoPlayerHTML5Api30.getDimensions():null;};n.prototype.isSpherical=function(){'use strict';return !!this.$VideoPlayerHTML5Api30;};n.prototype.getSphericalPlayerID=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getPlayerID();return null;};n.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api29)if(this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null;};n.prototype.$VideoPlayerHTML5Api76=function(){'use strict';this.$VideoPlayerHTML5Api80('flash/updateMetadata');};n.prototype.$VideoPlayerHTML5Api63=function(o){'use strict';this.emit('error',babelHelpers['extends']({},o,{isPlayback:this.$VideoPlayerHTML5Api25}));};n.prototype.$VideoPlayerHTML5Api66=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api28.error)return;var o=this.$VideoPlayerHTML5Api28.error;this.emit('error',{error:l(o.code),isPlayback:this.$VideoPlayerHTML5Api25,message:k(o.code)});};n.prototype.$VideoPlayerHTML5Api47=function(event,o){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api29)o.longest_init_response_time=this.$VideoPlayerHTML5Api29.getLongestInitResponseTime();o.player_version=c('VideoPlayerVersions').PLEASANTVILLE;o.projection=this.$VideoPlayerHTML5Api55();this.$VideoPlayerHTML5Api80('flash/logEvent',{logData:babelHelpers['extends']({event:event},o)});};n.prototype.$VideoPlayerHTML5Api80=function(event,o){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api12},o));this.emit(event.substr('flash/'.length),o);};n.prototype.$VideoPlayerHTML5Api83=function(){'use strict';var o=this.getVideoID();this.$VideoPlayerHTML5Api36=c('RTISubscriptionManager').subscribe('live/broadcast/caption/'+o,this.$VideoPlayerHTML5Api87.bind(this));};n.prototype.$VideoPlayerHTML5Api85=function(){'use strict';if(this.$VideoPlayerHTML5Api36)this.$VideoPlayerHTML5Api36.unsubscribe();};n.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api18;};n.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api37;};n.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api21;};n.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api28.duration||0;};n.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api28.volume;};n.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api28.currentTime;};n.prototype.$VideoPlayerHTML5Api54=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api14&&this.$VideoPlayerHTML5Api6.fallbackSources.HD?this.$VideoPlayerHTML5Api6.fallbackSources.HD:this.$VideoPlayerHTML5Api6.fallbackSources.SD);if(this.$VideoPlayerHTML5Api14&&this.$VideoPlayerHTML5Api7.hasHD()){return this.$VideoPlayerHTML5Api88();}else return this.$VideoPlayerHTML5Api89();};n.prototype.$VideoPlayerHTML5Api88=function(){'use strict';if(this.$VideoPlayerHTML5Api15){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcHD();};n.prototype.$VideoPlayerHTML5Api89=function(){'use strict';if(this.$VideoPlayerHTML5Api15){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcSD();};n.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api35=!this.$VideoPlayerHTML5Api35;if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.showSubtitles();}else this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.hideSubtitles();this.emit('toggleSubtitles');};n.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api7.hasSubtitles();};n.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api35;};n.prototype.areHLSActive=function(){'use strict';return false;};n.prototype.isRTMP=function(){'use strict';return false;};n.prototype.$VideoPlayerHTML5Api84=function(){'use strict';if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.showSubtitles();}else this.$VideoPlayerHTML5Api34&&this.$VideoPlayerHTML5Api34.hideSubtitles();};n.prototype.$VideoPlayerHTML5Api90=function(){'use strict';if(this.$VideoPlayerHTML5Api13)this.$VideoPlayerHTML5Api84();this.emit('loadedSubtitles');};n.prototype.$VideoPlayerHTML5Api87=function(){'use strict';var o=this.getVideoID(),p=c('XLiveBroadcastCaptionsURIFetchAsyncController').getURIBuilder().setString('video_id',o).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setHandler(function(q){this.$VideoPlayerHTML5Api91(q.getPayload());}.bind(this)).send();};n.prototype.$VideoPlayerHTML5Api91=function(o){'use strict';this.$VideoPlayerHTML5Api64(o);};n.prototype.$VideoPlayerHTML5Api64=function(o){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles"],function(p){if(this.$VideoPlayerHTML5Api34)this.$VideoPlayerHTML5Api34.removeSubtitles();var q=this.$VideoPlayerHTML5Api6.subtitleDrawer;this.$VideoPlayerHTML5Api34=new p(this.$VideoPlayerHTML5Api28);this.$VideoPlayerHTML5Api34.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api90();}.bind(this));this.$VideoPlayerHTML5Api34.registerDrawer(q);this.$VideoPlayerHTML5Api34.loadSubtitles(o);}.bind(this),'VideoPlayerHTML5Api');};n.prototype.setStillFrameEnabled=function(o){'use strict';this.$VideoPlayerHTML5Api32=!o;};n.prototype.$VideoPlayerHTML5Api92=function(){'use strict';if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.freeze();return;}if(this.$VideoPlayerHTML5Api32)return;var o;if(!this.$VideoPlayerHTML5Api31){var p=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api28),q=c('DOM').create('canvas',{width:p.width,height:p.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api28,q);this.$VideoPlayerHTML5Api31=o=new (c('VideoFrameBuffer'))(q,this.$VideoPlayerHTML5Api28);}else o=this.$VideoPlayerHTML5Api31;c('CSS').show(o.getDOMNode());o.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api28);};n.prototype.$VideoPlayerHTML5Api52=function(){'use strict';if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.unfreeze();return;}if(!this.$VideoPlayerHTML5Api31)return;c('CSS').hide(this.$VideoPlayerHTML5Api31.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api28);};n.prototype.$VideoPlayerHTML5Api58=function(){'use strict';var o=this.$VideoPlayerHTML5Api1;if(!o)return;if(this.$VideoPlayerHTML5Api16)return;this.$VideoPlayerHTML5Api16=true;this.emit('restoringAfterAbort');this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api29){this.$VideoPlayerHTML5Api29.reload(o.currentTime);}else{this.$VideoPlayerHTML5Api28.src=this.$VideoPlayerHTML5Api54();this.$VideoPlayerHTML5Api28.preload=o.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api28,o.currentTime,function(){this.$VideoPlayerHTML5Api52();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api28.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit('restoredAfterAbort');}this.$VideoPlayerHTML5Api16=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api28,function(){return this.$VideoPlayerHTML5Api60();}.bind(this));}.bind(this));};n.prototype.abortLoading=function(o){'use strict';o=o||{};if(this.$VideoPlayerHTML5Api1)return;if(!o.disableStillFrame)this.$VideoPlayerHTML5Api92();var p=this.$VideoPlayerHTML5Api28.currentTime,q=this.isMuted(),r=this.$VideoPlayerHTML5Api28.duration,s=this.$VideoPlayerHTML5Api28.paused,t=this.$VideoPlayerHTML5Api28.preload;this.$VideoPlayerHTML5Api27=false;this.$VideoPlayerHTML5Api1={mutedState:q,currentTime:p,playbackDuration:r,preload:t};if(s&&this.$VideoPlayerHTML5Api13)c('dispatchEvent')(this.$VideoPlayerHTML5Api28,'pause');this.emit('abortedLoading');if(this.$VideoPlayerHTML5Api29){this.$VideoPlayerHTML5Api29.unload();return;}this.$VideoPlayerHTML5Api28.preload='none';this.$VideoPlayerHTML5Api28.removeAttribute('src');this.$VideoPlayerHTML5Api28.load();};n.prototype.setPreferredVideoQuality=function(o){'use strict';this.$VideoPlayerHTML5Api26=o;if(!this.$VideoPlayerHTML5Api7)return;if(this.$VideoPlayerHTML5Api29&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api29.setPreferredVideoQuality(o);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api47(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api29&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api29.setPreferredVideoQuality(o);return;}this.$VideoPlayerHTML5Api14=!this.$VideoPlayerHTML5Api14;var p=this.$VideoPlayerHTML5Api28.currentTime,q=this.$VideoPlayerHTML5Api28.muted,r=this.$VideoPlayerHTML5Api28.volume;this.$VideoPlayerHTML5Api28.src=this.$VideoPlayerHTML5Api54();c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api28,function(){this.$VideoPlayerHTML5Api28.currentTime=p;this.$VideoPlayerHTML5Api28.muted=q;this.$VideoPlayerHTML5Api28.volume=r;this.$VideoPlayerHTML5Api60();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api25=true;this.$VideoPlayerHTML5Api62();};n.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api26=null;if(this.$VideoPlayerHTML5Api29)this.$VideoPlayerHTML5Api29.unsetPreferredVideoQuality();};n.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api26;};n.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api14?'HD':'SD';};n.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api6.fallbackSources.HD?['SD','HD']:['SD']);if(!this.$VideoPlayerHTML5Api7)return [];if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api7.hasHD()?['SD','HD']:['SD'];};n.prototype.getIsAbrEnabled=function(){'use strict';if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29.getIsAbrEnabled();return false;};n.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api29)return this.$VideoPlayerHTML5Api29.canAutoSelectVideoQuality();return false;};n.prototype.$VideoPlayerHTML5Api49=function(){'use strict';var o={projectionType:this.$VideoPlayerHTML5Api55(),fieldOfView:this.$VideoPlayerHTML5Api6.sphericalFieldOfView,expansionCoef:1.01},p={videoID:this.getVideoID(),playerID:this.$VideoPlayerHTML5Api6.id};if(this.$VideoPlayerHTML5Api6.sphericalConfig)Object.assign(o,this.$VideoPlayerHTML5Api6.sphericalConfig);if(this.$VideoPlayerHTML5Api6.sphericalPlayerConfig)Object.assign(p,this.$VideoPlayerHTML5Api6.sphericalPlayerConfig);try{this.$VideoPlayerHTML5Api30=new this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Spherical(this.$VideoPlayerHTML5Api28,o,p);}catch(q){c('setImmediate')(function(){return this.emit('error',{error:'SPHERICAL_SETUP_FAILED',message:q.message});}.bind(this));}if(this.$VideoPlayerHTML5Api30){var r=this.$VideoPlayerHTML5Api30;r.addListener('DOM/click',function(s){return this.$VideoPlayerHTML5Api75(s);}.bind(this));r.addListener('updateViewportBegin',function(){return this.$VideoPlayerHTML5Api86();}.bind(this));r.addListener('renderingContextLost',function(){if(!this.$VideoPlayerHTML5Api56())this.pause(c('VideoPlayerReason').SPHERICAL_SWITCH_CANVAS);}.bind(this));['updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','wheelScroll','error'].forEach(c('forwardEvent').bind(null,r,this));if(!this.$VideoPlayerHTML5Api29)this.$VideoPlayerHTML5Api28.src=this.$VideoPlayerHTML5Api54();}};n.getPlayerVersion=function(){'use strict';return c('VideoPlayerVersions').PLEASANTVILLE;};n.prototype.$VideoPlayerHTML5Api55=function(){'use strict';return this.$VideoPlayerHTML5Api7.getProjection();};n.prototype.$VideoPlayerHTML5Api60=function(){'use strict';if(this.$VideoPlayerHTML5Api25){if(this.$VideoPlayerHTML5Api3)var o=c('EventListener').capture(this.$VideoPlayerHTML5Api28.parentNode,'play',function(q){c('Event').kill(q);o.remove();});var p=null;if(this.$VideoPlayerHTML5Api29){p=this.$VideoPlayerHTML5Api29.play();}else{if(c('VideoPlayerHTML5Experiments').preloadOnPlay)this.$VideoPlayerHTML5Api28.preload='auto';p=this.$VideoPlayerHTML5Api28.play();}if(p&&p['catch'])p['catch'](function(q){return false;});}this.$VideoPlayerHTML5Api61();};n.getStreamTypeFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.getStreamType();};n.getIsPlayingLiveFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isLiveStream();};n.networkTimeout=5000;f.exports=n;}),null);
__d('SphericalVideoPlayerEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:'setRelativeSphericalOrientation',SET_ABSOLUTE_SPHERICAL_ORIENTATION:'setAbsoluteSphericalOrientation'};}),null);
__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();function k(n){return {getDataFromConfig:function o(p,q){q.log=p.log;},getAllStories:function o(){var p=c('DOM').scry(n.container,"._5bll");return p.filter(function(q){return q.getAttribute('data-home-vpv');});},getStoryID:function o(p){var q=JSON.parse(p.getAttribute('data-home-vpv'));return q&&q.storyID;},getDataToLog:function o(p){return JSON.parse(p.getAttribute('data-home-vpv'));}};}i=babelHelpers.inherits(l,c('ViewportTracking'));j=i&&i.prototype;l.prototype.sendDataToLog=function(n,o){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;p[c('VideoHomeLoggerFields').SESSION_ID]=o.sessionID;p[c('VideoHomeLoggerFields').DATA_SOURCE]=o.dataSource;p[c('VideoHomeLoggerFields').CHANNEL_ID]=o.channelID;p[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;p[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=o.storyID;p[c('VideoHomeLoggerFields').CHANNEL_POSITION]=o.channelPosition;p[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=o.positionInChannel;p[c('VideoHomeLoggerFields').TRACKING_DATA]=o.trackingData;this.log&&this.log(p);};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this);};function l(){i.apply(this,arguments);}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n));o.init(n);return o;});f.exports=m;}),null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0,j=void 0,k=0,l={init:function m(n){j=n.session_id;k=Date.now();var o=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),n.container);i=o;var p=c('VideoHomeViewportTracking').factory({log:l.log,container:n.container,record_delay:0});h=p;c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;if(t){t.subscribe(c('BigPipe').Events.tti,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});t.subscribe(c('BigPipe').Events.loaded,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});}});function q(){if(j!==n.session_id)return;var r={};r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;r[c('VideoHomeLoggerFields').SESSION_ID]=j;r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').UNKNOWN;l.log(r);o.updateTimeTrackingData(true);p.updateTimeTrackingData(true);j=null;i=null;h=null;}c('Run').onLeave(q);c('Banzai').subscribe(c('Banzai').SHUTDOWN,q);},updateViewportTracking:function m(){if(i){i.fireTimer();i.updateTimeTrackingData(false,'scroll');}if(h){h.fireTimer();h.updateTimeTrackingData(false,'scroll');}},_pause:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},_resume:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},getPlayerLoggingData:function m(){return {video_home_session_id:j};},log:function m(n){if(j&&k){var o=Date.now()-k;n[c('VideoHomeLoggerFields').TIME_SINCE_START]=o+.001;}c('BanzaiLogger').log('VideoHomeLoggerConfig',n);}};c('Arbiter').subscribe('LogEnterChannel',l._pause);c('Arbiter').subscribe('LogExitChannel',l._resume);f.exports=l;}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','TimeSpentImmediateActiveSecondsLogger','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,i='video_player',j=5000,k=function m(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();};function l(m,n){this.$VideoPlayerLogger2=m;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=n;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger15();}l.prototype.updateSource=function(m){this.$VideoPlayerLogger2=m;};l.prototype.getSource=function(){return this.$VideoPlayerLogger2;};l.prototype.logEvent=function(event,m){m=babelHelpers['extends']({},m,this.$VideoPlayerLogger4);m.initial_event=!this.$VideoPlayerLogger6.hasOwnProperty(event);if(!m.hasOwnProperty('time_ms'))m.time_ms=k();if(!m.hasOwnProperty('time'))m.time=Math.round(m.time_ms/1000);m.is_stalling=this.$VideoPlayerLogger16();m.error_user_info=this.$VideoPlayerLogger17(m.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(m,this.$VideoPlayerLogger3);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=m.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!m.initial_event)break;m.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger15();this.$VideoPlayerLogger18();if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){m.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else m.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').UNPAUSED)this.$VideoPlayerLogger7=[];if(event===c('VideoPlayerLoggerEvent').ERROR&&m.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){m.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else m.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger19();if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)m.recent_stalls_count=this.$VideoPlayerLogger20();this.$VideoPlayerLogger21();this.$VideoPlayerLogger22(m);this.$VideoPlayerLogger15();break;}var n={logData:m,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return null;if(m.ad_client_token||h&&m.playback_is_live_streaming){c('Banzai').post(i,n,c('Banzai').VITAL);}else c('Banzai').post(i,n);if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING||event===c('VideoPlayerLoggerEvent').PAUSED){var o=m.time_ms||k(),p=m.video_time_position-m.video_last_start_time_position;if(p>=0)c('TimeSpentImmediateActiveSecondsLogger').maybeReportActiveInterval('video',o-Math.floor(p*1000),o);}return n;};l.prototype.setScriptPath=function(m){this.$VideoPlayerLogger1=m;};l.prototype.setFTData=function(m){this.$VideoPlayerLogger3=m;};l.prototype.startBuffering=function(m){this.$VideoPlayerLogger18(m);};l.prototype.endBuffering=function(){this.$VideoPlayerLogger19();this.$VideoPlayerLogger21();};l.prototype.$VideoPlayerLogger16=function(){return this.$VideoPlayerLogger12>0;};l.prototype.$VideoPlayerLogger18=function(m){if(this.$VideoPlayerLogger16())return;this.$VideoPlayerLogger12=Date.now();if(m!==undefined&&this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])this.$VideoPlayerLogger13=m;};l.prototype.$VideoPlayerLogger23=function(){return this.$VideoPlayerLogger16()?Date.now()-this.$VideoPlayerLogger12:0;};l.prototype.$VideoPlayerLogger19=function(){if(this.$VideoPlayerLogger16()){var m=this.$VideoPlayerLogger23();if(this.$VideoPlayerLogger13!==null)this.$VideoPlayerLogger14=m;this.$VideoPlayerLogger11+=m;this.$VideoPlayerLogger9+=m;this.$VideoPlayerLogger10++;this.$VideoPlayerLogger8++;}};l.prototype.$VideoPlayerLogger21=function(){if(this.$VideoPlayerLogger16())this.$VideoPlayerLogger12=0;};l.prototype.$VideoPlayerLogger17=function(m){if(m&&typeof m=='object')return JSON.stringify(m);return m;};l.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8;};l.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger23();};l.prototype.$VideoPlayerLogger22=function(m){m.stall_time=Math.max(0,this.$VideoPlayerLogger11);m.stall_count=this.$VideoPlayerLogger10;if(this.$VideoPlayerLogger14){m.first_stall_time=this.$VideoPlayerLogger14;m.first_stall_start_position=this.$VideoPlayerLogger13;}};l.prototype.$VideoPlayerLogger20=function(){var m=k(),n=m-j;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(o){return o>=n;});if(this.$VideoPlayerLogger10>0)this.$VideoPlayerLogger7.push(m);return this.$VideoPlayerLogger7.length;};l.prototype.$VideoPlayerLogger15=function(){this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger13=null;this.$VideoPlayerLogger14=0;};l.Sources=c('VideoPlayerLoggerSource');l.Errors=c('VideoPlayerLoggerErrors');l.FallbackReasons=c('VideoPlayerLoggerFallbackReasons');l.ErrorStates=c('VideoPlayerLoggerErrorStates');l.PlayerStates=c('VideoPlayerLoggerPlayerStates');f.exports=l;}),null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function j(k,l){return k.getPriority()-l.getPriority();};function i(){this.$VideoPlayerUIComponentDrawerController1=[];}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('heightChange',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l;};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();});};f.exports=i;}),null);
__d("XVideoDataController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false}});}),null);
__d('VideoPlayerController',['csx','cx','invariant','Promise','Arbiter','Banzai','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','FullScreen','JSLogger','JSResource','Map','VideoPlayerReason','Run','ScriptPath','SphericalVideoPlayerEvents','SubscriptionsHandler','URI','VideoChannelLogger','VideoChannelViewChainLengthManager','VideoHomeLogger','VideoMimeTypes','VideoPermalinkURI','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFallbackEvents','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerResizeSettings','VideoPlayerStates','VideoPlayerUIComponentDrawer','VideoPlayerUIComponentDrawerController','VideoPlayerVolumeSettings','VideosRenderingInstrumentation','Visibility','XVideoDataController','canVideoPlayType','collectDataAttributes','enumerate','forwardEvent','getElementPosition','getFullScreenElement','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=5,n=1;function o(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}k=babelHelpers.inherits(p,c('EventEmitter'));l=k&&k.prototype;function p(q,r){var s=q.video_id,t=q.video_ids,u=q.video_url,v=q.video_urls,w=q.chaining_token,x=q.video_channel_id,y=q.source,z=q.ad_client_token,aa=q.should_autoplay,ba=q.player_version,ca=q.autoplay_setting,da=q.apiModule,ea=q.apiConfig,fa=q.useInlineFallback,ga=q.accessToken,ha=q.projection,ia=q.playerOrigin,ja=q.playerSuborigin,ka=q.isBroadcast,la=q.components,ma=q.trackingCodes,na=q.alwaysShowCaptions,oa=q.disableLogging,pa=q.componentDependencies,qa=r.root_element,ra=r.container_element,sa=r.video_element;'use strict';l.constructor.call(this);if(aa===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController18=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController12=new (c('Map'))();this.$VideoPlayerController43=ha;this.$VideoPlayerController1=ga;this.$VideoPlayerController52=!!aa;this.$VideoPlayerController8=ca;this.$VideoPlayerController2=z;this.$VideoPlayerController39=false;this.$VideoPlayerController64=sa;this.$VideoPlayerController51=qa;this.$VideoPlayerController13=ra;this.$VideoPlayerController25=false;this.$VideoPlayerController26=false;this.$VideoPlayerController42=ba;this.$VideoPlayerController63=s||t&&t[0]||'';this.$VideoPlayerController65=u||v&&v[0];this.$VideoPlayerController10=w;this.$VideoPlayerController61=x;this.$VideoPlayerController56={};this.$VideoPlayerController19=new (c('Map'))();this.$VideoPlayerController40=ia;this.$VideoPlayerController41=ja||y;this.$VideoPlayerController24=ka;this.$VideoPlayerController58=ma;this.$VideoPlayerController3=na;this.$VideoPlayerController23=c('uniqueID')();if(pa)this.$VideoPlayerController67={dependencies:pa,callbacks:[]};this.$VideoPlayerController5=da;this.$VideoPlayerController4=ea;this.$VideoPlayerController30=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController29=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController59=!!fa;this.$VideoPlayerController16=0;var ta=c('URI').getRequestURI(),ua=c('VideoPermalinkURI').parse(ta),va=parseFloat(ta.getQueryData().t),wa=ua?ua.video_id==this.$VideoPlayerController63:false;if(va&&wa)this.$VideoPlayerController49=va;this.$VideoPlayerController14=null;this.$VideoPlayerController37=null;this.$VideoPlayerController53=y;this.$VideoPlayerController33=new (c('VideoPlayerLogger'))(y);if(this.$VideoPlayerController53===c('VideoPlayerLoggerSource').CHANNEL)this.setIsInChannel(true);this.collectFeedTrackingData();this.$VideoPlayerController33.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController45=c('VideosRenderingInstrumentation').retrieveRenderTime(this.$VideoPlayerController51);this.$VideoPlayerController44=o()-this.$VideoPlayerController45;if(ea)ea.subtitleDrawer=this.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.Subtitles,0);this.$VideoPlayerController54='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController45});this.$VideoPlayerController68(false);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController59)){if(this.$VideoPlayerController59){this.$VideoPlayerController69();}else{this.$VideoPlayerController70();return;}}else this.$VideoPlayerController71();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));if(this.$VideoPlayerController52)if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){this.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this));}else this.play(c('VideoPlayerReason').AUTOPLAY);this.$VideoPlayerController17=0;this.$VideoPlayerController50=false;this.$VideoPlayerController20=this.$VideoPlayerController72();this.$VideoPlayerController7=new (c('SubscriptionsHandler'))();this.$VideoPlayerController7.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(xa,ya){if(ya.type==='DialogX'||ya.type==='PhotoSnowlift'){this.$VideoPlayerController17=this.$VideoPlayerController17+1;if(this.$VideoPlayerController17>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController50=true;}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(xa,ya){if(ya.type==='DialogX'||ya.type==='PhotoSnowlift'){this.$VideoPlayerController17=this.$VideoPlayerController17-1;if(this.$VideoPlayerController17===0)if(this.$VideoPlayerController50&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController50=false;}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(xa,ya){return this.$VideoPlayerController73(xa,ya);}.bind(this)));c('Run').onLeave(function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController11=la||[];this.$VideoPlayerController11.forEach(function(xa){return xa.enable(this);}.bind(this));this.$VideoPlayerController36=1;}p.prototype.destroy=function(q){'use strict';q=q||{};if(this.isState('destroyed')||this.$VideoPlayerController26)return;this.$VideoPlayerController26=true;var r=this.$VideoPlayerController11;for(var s=r.length-1;s>=0;s--)r[s].disable(this);this.getVideoAPI().destroy(q);this.setState('destroyed');this.$VideoPlayerController7.release();this.removeAllListeners();};p.prototype.$VideoPlayerController74=function(){'use strict';var q=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!q.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),q[0]);this.$VideoPlayerController64=q[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load();};p.prototype.$VideoPlayerController69=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController74().then(function(q){if(q.isImplementationUnavailable()){return c('Promise').reject();}else return c('Promise').resolve(q);}).done(function(q){this.$VideoPlayerController5=q;this.$VideoPlayerController71();}.bind(this),function(q){return this.$VideoPlayerController70();}.bind(this));};p.prototype.collectFeedTrackingData=function(){'use strict';var q=null;if(this.$VideoPlayerController58){var r={tn:'','tn-debug':','},s={};for(var t=0;t<this.$VideoPlayerController58.length;t++){var u=JSON.parse(this.$VideoPlayerController58[t]);if(!Array.isArray(u))for(var v in u)if(r[v]!==undefined){if(s[v]===undefined)s[v]=[];s[v].push(u[v]);}else if(s[v]===undefined)s[v]=u[v];}for(var w in r)if(s[w]!==undefined)s[w]=s[w].join(r[w]);q={ft:s};}else q=c('collectDataAttributes')(this.getRootNode(),['ft']);this.$VideoPlayerController33.setFTData(q);};p.prototype.$VideoPlayerController73=function(q,r){'use strict';r.video_player_debug_info=r.video_player_debug_info||{};r.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();r.video_hardware_info=this.$VideoPlayerController75();};p.prototype.$VideoPlayerController75=function(){'use strict';try{var r=document.createElement('canvas'),s=r.getContext('webgl')||r.getContext('experimental-webgl'),t=s.getExtension('WEBGL_debug_renderer_info');return t&&{vendor:s.getParameter(t.UNMASKED_VENDOR_WEBGL),renderer:s.getParameter(t.UNMASKED_RENDERER_WEBGL)};}catch(q){}return null;};p.prototype.setStillFrameEnabled=function(q){'use strict';var r=this.getVideoAPI();if(r.setStillFrameEnabled)r.setStillFrameEnabled(q);};p.prototype.isFallbackRecoverable=function(){'use strict';return !!this.$VideoPlayerController55;};p.prototype.setFallbackSources=function(q){'use strict';this.$VideoPlayerController55=q;this.emit(c('VideoPlayerFallbackEvents').RECOVER);};p.prototype.setRelativeSphericalOrientation=function(q,r){'use strict';this.getVideoAPI().setRelativeSphericalOrientation(q,r);this.emit(c('SphericalVideoPlayerEvents').SET_RELATIVE_SPHERICAL_ORIENTATION,q,r);};p.prototype.setSphericalOrientation=function(q,r){'use strict';this.getVideoAPI().setSphericalOrientation(q,r);this.emit(c('SphericalVideoPlayerEvents').SET_ABSOLUTE_SPHERICAL_ORIENTATION,q,r);};p.prototype.setSphericalFieldOfView=function(q){'use strict';this.getVideoAPI().setSphericalFieldOfView(q);this.emit('fovChange',q);};p.prototype.getSphericalViewportDimensions=function(){'use strict';return this.getOption('SphericalVideoPlayer','getDimensions')||this.getVideoAPI().getSphericalViewportDimensions();};p.prototype.isSpherical=function(){'use strict';return this.$VideoPlayerController4?this.$VideoPlayerController4.isSpherical:false;};p.prototype.getVideoPlayerID=function(){'use strict';return this.$VideoPlayerController23;};p.prototype.setLogEntryPropertyGetters=function(q){'use strict';Object.keys(q).forEach(function(r){var s=q[r];if(typeof s==='function'){this.$VideoPlayerController19.set(r,s);}else this.$VideoPlayerController56[r]=s;}.bind(this));};p.prototype.removeLogEntryPropertyGetters=function(q){'use strict';if(typeof q==='string')q=[q];if(!Array.isArray(q))q=Object.keys(q);q.forEach(function(r){this.$VideoPlayerController19['delete'](r);delete this.$VideoPlayerController56[r];}.bind(this));};p.prototype.$VideoPlayerController71=function(){'use strict';this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};p.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController59)&&!this.$VideoPlayerController59;};p.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController28;};p.prototype.setIsInChannel=function(q){'use strict';if(q&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController53){this.$VideoPlayerController33.updateSource(c('VideoPlayerLoggerSource').CHANNEL);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}else if(!q&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController53){this.$VideoPlayerController33.updateSource(this.$VideoPlayerController53);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}this.$VideoPlayerController28=q;};p.prototype.getSource=function(){'use strict';return this.$VideoPlayerController33.getSource();};p.prototype.getPlayerOrigin=function(){'use strict';return this.$VideoPlayerController40;};p.prototype.getPlayerSuborigin=function(){'use strict';return this.$VideoPlayerController41;};p.prototype.hasLooped=function(){'use strict';return this.$VideoPlayerController36>1;};p.prototype.$VideoPlayerController70=function(){'use strict';var q={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,q);this.$VideoPlayerController52=false;};p.prototype.logError=function(q){'use strict';var r=this.$VideoPlayerController31=q,s=r.error,t=r.message,u=r.isPlayback,v=r.httpStatus,w=r.url,x=this.getDebugInfo();delete x.player.loggedError;delete x.player.lastError;var y={error:s,error_description:t,error_user_info:x,error_code:v,resource_url:w,state:u?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.$VideoPlayerController32=this.logEvent(c('VideoPlayerLoggerEvent').ERROR,y);if(u&&this.$VideoPlayerController39)this.$VideoPlayerController68(false);};p.prototype.setRotation=function(q){'use strict';this.getVideoAPI().setRotation(q);};p.prototype.setDimensions=function(q,r){'use strict';this.$VideoPlayerController13.style.width=q+'px';this.$VideoPlayerController13.style.height=r+'px';this.$VideoPlayerController64.style.width=q+'px';this.$VideoPlayerController64.style.height=r+'px';if(this.isState('loading')){this.$VideoPlayerController46={width:q,height:r};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController27||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(q,r);}};p.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController39;};p.prototype.$VideoPlayerController68=function(q){'use strict';if(this.$VideoPlayerController39===q)return;this.$VideoPlayerController39=q;this.emit('pendingPlayRequestChanged');};p.prototype.play=function(q){'use strict';if(this.$VideoPlayerController67){this.$VideoPlayerController67.callbacks.push(function(){return this.play(q);}.bind(this));return;}this.$VideoPlayerController76();if(!this.$VideoPlayerController38)this.$VideoPlayerController38=q;if(!this.$VideoPlayerController39){this.$VideoPlayerController37=this.$VideoPlayerController77();var r=this.$VideoPlayerController78({debug_reason:q});this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,r);}this.emit('playRequested',q);this.sendPlayRequest(q);if(q===c('VideoPlayerReason').LOOP)this.$VideoPlayerController36++;};p.prototype.sendPlayRequest=function(q){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerController68(true);if(this.isState('loading')){this.$VideoPlayerController47={reason:q};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController35)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController35=false;if(c('VideoPlayerExperiments').universalVolume&&(q===c('VideoPlayerReason').AUTOPLAY||q===c('VideoPlayerReason').USER)&&this.$VideoPlayerController53!==c('VideoPlayerLoggerSource').LIVE_MAP&&!this.getVideoAPI().isMuted()){var r=c('VideoPlayerVolumeSettings').getVolume();if(r!==0){this.setVolume(r);}else{this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(!this.getVideoAPI().isMuted())this.mute();}}if(this.$VideoPlayerController49){this.seek(this.$VideoPlayerController49);this.$VideoPlayerController49=null;}this.getVideoAPI().play(q);}};p.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController38;};p.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback')&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController79();if(this.$VideoPlayerController60&&this.$VideoPlayerController60.destroy)this.$VideoPlayerController60.destroy();this.$VideoPlayerController60=null;this.setState('loading');this.$VideoPlayerController71();};p.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController51);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController80();}.bind(this));};p.prototype.getVideoAPI=function(){'use strict';!this.$VideoPlayerController60?j(0):void 0;return this.$VideoPlayerController60;};p.prototype.getVideoNode=function(){'use strict';return this.$VideoPlayerController64;};p.prototype.getRootNode=function(){'use strict';return this.$VideoPlayerController51;};p.prototype.$VideoPlayerController80=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController35=!this.getVideoAPI().isMuted();this.$VideoPlayerController57=!this.$VideoPlayerController3&&this.getVideoAPI().areSubtitlesActive();if(this.$VideoPlayerController47){this.sendPlayRequest(this.$VideoPlayerController47.reason);this.$VideoPlayerController47=null;}if(this.$VideoPlayerController46){this.setDimensions(this.$VideoPlayerController46.width,this.$VideoPlayerController46.height);this.$VideoPlayerController46=null;}if(this.$VideoPlayerController48){this.getVideoAPI().unmute();this.$VideoPlayerController48=null;}};p.prototype.onApiReady=function(){'use strict';if(this.$VideoPlayerController4){this.$VideoPlayerController4.id=this.$VideoPlayerController23;if(this.$VideoPlayerController55)this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController55;}this.$VideoPlayerController60=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController81();this.$VideoPlayerController80();var q={is_auto_played:this.isAutoplayable()};this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,q);this.emit('apiReady');};p.prototype.runOnApiReady=function(){var q=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];'use strict';if(!this.isState('loading')){q();}else this.once('apiReady',q);};p.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController16=0;};p.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var q=this.getVideoAPI().getCurrentTimePosition();if(q!=null&&q!==undefined)this.$VideoPlayerController16=q;}return this.$VideoPlayerController16;};p.prototype.$VideoPlayerController76=function(){'use strict';if(!this.$VideoPlayerController9){c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController10);var q=this.getVideoID();if(this.$VideoPlayerController10){var r=this.$VideoPlayerController10.decode();q=r.root_id;}this.$VideoPlayerController9=c('VideoChannelViewChainLengthManager').getLoggingData(q);}this.$VideoPlayerController62=c('VideoChannelLogger').getPlayerLoggingData();};p.prototype.$VideoPlayerController82=function(q){'use strict';this.$VideoPlayerController68(false);var r=q.position;if(r!==undefined)this.$VideoPlayerController16=r;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController83();}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController84();};p.prototype.$VideoPlayerController85=function(q){'use strict';var r=q.position;if(r!==undefined)this.$VideoPlayerController16=r;this.$VideoPlayerController14=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();};p.prototype.$VideoPlayerController86=function(q){'use strict';var event=q.event;delete q.event;this.logEvent(event,q);};p.prototype.$VideoPlayerController87=function(){'use strict';if(!this.isState('finished'))this.setState('paused');};p.prototype.$VideoPlayerController88=function(q){'use strict';var r=q.position;if(r!==undefined)this.$VideoPlayerController16=r;};p.prototype.$VideoPlayerController89=function(){'use strict';this.setState('finished');this.$VideoPlayerController50=false;};p.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};p.prototype.$VideoPlayerController90=function(){'use strict';var q=this.isFullscreen();c('CSS').conditionClass(this.$VideoPlayerController13,"_1hwh",q);c('CSS').conditionClass(this.$VideoPlayerController13,"_52fb",q);if(!q&&this.$VideoPlayerController21){this.$VideoPlayerController21.unsubscribe();this.$VideoPlayerController21=null;}if(this.$VideoPlayerController27!=q){this.logEvent(q?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);var r=c('DOMDimensions').getElementDimensions(this.$VideoPlayerController13);if(!this.isPlayerVersion('silvercity'))this.getVideoAPI().setDimensions(r.width,r.height);this.emit('toggleFullscreen');c('Arbiter').inform('video_fullscreen_change',{});}this.$VideoPlayerController27=q;};p.prototype.isFullscreen=function(){'use strict';return c('FullScreen').isFullScreen()&&this.$VideoPlayerController13===c('getFullScreenElement')();};p.prototype.toggleFullscreen=function(){'use strict';if(c('FullScreen').toggleFullScreen(this.$VideoPlayerController13)){c('CSS').addClass(this.$VideoPlayerController13,"_1hwh");this.$VideoPlayerController21=c('FullScreen').subscribe('changed',this.$VideoPlayerController90.bind(this));}};p.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.$VideoPlayerController13,"_24pm");};p.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerController13,"_24pm");};p.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();if(c('VideoPlayerExperiments').universalVolume)this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController57&&this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();}else this.$VideoPlayerController48=true;};p.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};p.prototype.mute=function(){'use strict';if(this.$VideoPlayerController57&&!this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0);};p.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};p.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController63;};p.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController61;};p.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController65;};p.prototype.$VideoPlayerController81=function(){'use strict';var q=this.getVideoAPI(),r=new (c('SubscriptionsHandler'))();this.$VideoPlayerController6=r;var s={buffered:function(){return this.setBuffering(false);}.bind(this),buffering:function(){return this.setBuffering(true);}.bind(this),beginPlayback:function(t){return this.$VideoPlayerController82(t);}.bind(this),updateStatus:function(t){return this.$VideoPlayerController85(t);}.bind(this),logEvent:function(t){return this.$VideoPlayerController86(t.logData);}.bind(this),pausePlayback:function(){return this.$VideoPlayerController87();}.bind(this),seekEnd:function(t){return this.$VideoPlayerController88(t);}.bind(this),clickForTracking:function(){return c('logVideosClickTracking')(this.getVideoNode());}.bind(this),error:function(t){return this.logError(t);}.bind(this),finishPlayback:function(){return this.$VideoPlayerController89();}.bind(this)};r.addSubscriptions.apply(r,Object.keys(s).map(function(t){return q.addListener(t,s[t]);}));r.addSubscriptions.apply(r,c('VideoPlayerApiEvents').map(function(t){return c('forwardEvent')(q,this,t);}.bind(this)));};p.prototype.$VideoPlayerController79=function(){'use strict';if(this.$VideoPlayerController6)this.$VideoPlayerController6.release();};p.prototype.seek=function(q){'use strict';this.getVideoAPI().seek(q);};p.prototype.pause=function(q){'use strict';if(this.isState('loading')){this.$VideoPlayerController47=null;}else if(this.isState('playing')){this.getVideoAPI().pause(q);}else if(this.$VideoPlayerController39)this.getVideoAPI().pause(q);this.$VideoPlayerController68(false);this.$VideoPlayerController50=false;this.emit('pauseRequested',q);};p.prototype.isPlayerVersion=function(q){'use strict';return this.getPlayerVersion()===q;};p.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController52;};p.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController25;};p.prototype.setBuffering=function(q){'use strict';if(q!==this.$VideoPlayerController25){this.$VideoPlayerController25=q;if(this.$VideoPlayerController25){this.$VideoPlayerController33.startBuffering(this.getCurrentTimePosition());}else this.$VideoPlayerController33.endBuffering();this.emit('bufferingChanged');}};p.prototype.isLiveVideo=function(){'use strict';return this.$VideoPlayerController29;};p.prototype.isStreamInterrupted=function(){'use strict';var q=this.$VideoPlayerController60;return !!(q&&q.isStreamInterrupted&&q.isStreamInterrupted());};p.prototype.setVolume=function(q){'use strict';c('VideoPlayerVolumeSettings').saveVolume(q);this.getVideoAPI().setVolume(q);};p.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode());};p.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController22=true;};p.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController22;};p.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController2;};p.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController2;};p.prototype.$VideoPlayerController91=function(){'use strict';var q=null,r=null,s=false,t=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController14===null)this.$VideoPlayerController14=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();q=this.getVideoAPI().getEstimatedBandwidth();r=this.getVideoAPI().getAvailableVideoQualities().length;s=this.getVideoAPI().getIsAbrEnabled();t=this.getPlaybackDuration();}var u=babelHelpers['extends']({},this.$VideoPlayerController56);this.$VideoPlayerController19.forEach(function(v,w){u[w]=v(w,this);}.bind(this));return babelHelpers['extends']({ad_client_token:this.$VideoPlayerController2,available_qualities:r,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,projection:this.$VideoPlayerController43,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(v){return v.getVersionString();}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController54,player_origin:this.$VideoPlayerController40,player_suborigin:this.$VideoPlayerController41,playback_is_broadcast:this.$VideoPlayerController24,playback_duration:t,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController29,video_channel_id:this.$VideoPlayerController61,fbcdn_pop:this.$VideoPlayerController37,representation_id:this.$VideoPlayerController14,video_bandwidth:q,is_abr_enabled:s,feed_position:this.$VideoPlayerController20&&this.$VideoPlayerController20.getAttribute('data-insertion-position')},c('VideoHomeLogger').getPlayerLoggingData(),this.$VideoPlayerController62,this.$VideoPlayerController9,u);};p.prototype.$VideoPlayerController77=function(){'use strict';var q=this.getVideoInfo_DEPRECATED();if(!q)return null;var r=q.resourceUrl,s=/scontent-([a-z]+)\./.exec(r);if(!s)return null;return s[1];};p.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};p.prototype.getDebugInfo=function(){'use strict';var q=this.getVideoInfo_DEPRECATED(),r={initializationTime:this.$VideoPlayerController44,initializationTimestamp:this.$VideoPlayerController45,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController33.getCumulativeStallCount(),stallTime:this.$VideoPlayerController33.getCumulativeStallTime(),state:this.$VideoPlayerController54,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType')),loggedError:this.$VideoPlayerController32,lastError:this.$VideoPlayerController31},s={videoID:this.getVideoID()};if(!q)return {player:r,currentVideo:s};return {currentVideo:babelHelpers['extends']({},s,{streamType:q.streamType,isLiveStream:q.isLiveStream,liveManifestUrl:q.liveManifestUrl,isHD:q.isHD,hasHD:q.hasHD,resourceUrl:q.resourceUrl,hasSubtitles:q.hasSubtitles,hasRateLimit:!!q.hasUnlimitedSrc,isRateLimited:q.hasUnlimitedSrc&&!q.useUnlimitedSrc,tagHD:q.tagHD,tagSD:q.tagSD,projection:q.projection,streamId:this.$VideoPlayerController14}),player:r};};p.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};p.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};p.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};p.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP();};p.prototype.toggleSubtitles=function(){'use strict';this.getVideoAPI().toggleSubtitles();if(this.areSubtitlesActive()){this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_ON);}else this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_OFF);this.$VideoPlayerController57=false;};p.prototype.isHD=function(){'use strict';return (this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop());};p.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1;};p.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};p.prototype.setPreferredVideoQuality=function(q){'use strict';this.getVideoAPI().setPreferredVideoQuality(q);};p.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality();};p.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality();};p.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality();};p.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities();};p.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality();};p.prototype.switchToStreamType=function(q){'use strict';this.getVideoAPI().switchToStreamType(q);};p.prototype.$VideoPlayerController84=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',m).setString('source',this.$VideoPlayerController53).getURI().toString());};p.prototype.$VideoPlayerController83=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',n).setString('source',this.$VideoPlayerController53).getURI().toString());};p.prototype.$VideoPlayerController78=function(q){'use strict';var r=this.getVideoInfo_DEPRECATED();if(r!=null)return Object.assign({resource_url:r.resourceUrl,liveStream:r.isLiveStream,hd:r.isHD},q);return q;};p.prototype.$VideoPlayerController92=function(){'use strict';var q=this.getDOMPosition(),r=c('getViewportDimensions')().height,s=null;if(q.y<=0){s=q.y;}else if(q.y+q.height<r){s=0;}else s=q.y+q.height-r;return s;};p.prototype.logEvent=function(event,q){'use strict';if(this.$VideoPlayerController66)return;var r=Object.assign(this.$VideoPlayerController91(),q),s=this.getOriginalPlayReason();if(s&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)r.video_play_reason=s;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)r.viewport_distance=this.$VideoPlayerController92();return this.$VideoPlayerController33.logEvent(event,r);};p.prototype.getState=function(){'use strict';return this.$VideoPlayerController54;};p.prototype.getStreamingFormat=function(){'use strict';var q=this.getVideoInfo_DEPRECATED()||{};return q.streamType||this.$VideoPlayerController30;};p.prototype.setState=function(q){'use strict';if(this.isState(c('VideoPlayerStates').DESTROYED)||this.isState(c('VideoPlayerStates').FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController54=q;if(this.$VideoPlayerController54==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController79();}this.emit('stateChange');};p.prototype.isState=function(q){'use strict';return this.$VideoPlayerController54===q;};p.prototype.isIntentionallyViewing=function(){'use strict';return this.isState('playing')&&!this.isMuted();};p.prototype.abortLoading=function(q){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().abortLoading(q||{});};p.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};p.prototype.getPlayerVersion=function(){'use strict';if(this.$VideoPlayerController5.getPlayerVersion){return this.$VideoPlayerController5.getPlayerVersion();}else return this.$VideoPlayerController42;};p.prototype.registerOption=function(q,r,s,t){'use strict';var u=this.$VideoPlayerController12.get(q);if(!u){u=new (c('Map'))();this.$VideoPlayerController12.set(q,u);}if(u.has(r))throw new Error('An option can only be registered once for each component');u.set(r,{getter:s,setter:t});this.emit('optionsChange');};p.prototype.unregisterOption=function(q,r){'use strict';var s=this.$VideoPlayerController12.get(q);if(!s)throw new Error('The component "'+q+'" has no options registered');if(!s.has(r))throw new Error('The component "'+q+'" has no option "'+r+'" registered');s['delete'](r);if(!s.size)this.$VideoPlayerController12['delete'](q);this.emit('optionsChange');};p.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController12.keys();};p.prototype.getOptions=function(q){'use strict';var r=this.$VideoPlayerController12.get(q);if(r)return r.keys();return c('enumerate')([]);};p.prototype.hasOption=function(q,r){'use strict';var s=this.$VideoPlayerController12.get(q);if(!s)return false;if(!s.has(r))return false;return true;};p.prototype.getOption=function(q,r){'use strict';var s=this.$VideoPlayerController12.get(q);if(!s)return undefined;var t=s.get(r);if(!t)return undefined;return t.getter();};p.prototype.setOption=function(q,r,s){'use strict';var t=this.$VideoPlayerController12.get(q);if(!t)throw new Error('Component not registered');var u=t.get(r);if(!u)throw new Error('Option not registered');var v=u.setter;if(v)return v(s);throw new Error('Read-only option');};p.prototype.$VideoPlayerController72=function(){'use strict';var q=c('DOMQuery').scry(this.$VideoPlayerController51,"^._5pat");return q.length?q[0]:null;};p.prototype.registerDrawer=function(q,r){'use strict';return this.$VideoPlayerController18.register(q,r);};p.prototype.notifyComponentReady=function(q){'use strict';if(this.$VideoPlayerController67){var r=this.$VideoPlayerController67,s=r.dependencies.filter(function(u){return u!=q;});if(s.length>0){r.dependencies=s;}else{var t=r.callbacks;this.$VideoPlayerController67=null;t.forEach(function(u){return u();});}}};f.exports=p;}),null);