if (self.CavalryLogger) { CavalryLogger.start_js(["sPOzl"]); }

__d("TrendingEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TAG_IMPRESSION:"tag_impression",TAG_FEED_LOAD:"tag_feed_load",TAG_FEED_LONG_VIEW:"tag_feed_long_view",TAG_HIDE:"tag_hide",TOPIC_HEADER_TAPPED:"topic_header_tapped",HOVERCARD_LOAD:"hovercard_load",HOVERCARD_UNLOAD:"hovercard_unload",HOVERCARD_ARTICLE_CLICK:"hovercard_article_click",HOVERCARD_FEED_CLICK:"hovercard_feed_click",HOVERCARD_CONTEXT_CLICK:"hovercard_context_click",OBJECT_CLICK:"object_click",OBJECT_OUTBOUND_CLICK:"object_outbound_click",OBJECT_LIKE:"object_like",OBJECT_COMMENT:"object_comment",OBJECT_SHARE:"object_share",OBJECT_PAGE_LIKE:"object_page_like",OBJECT_FOLLOW:"object_follow",OBJECT_HIDE:"object_hide",PAGINATE:"paginate",TOPIC_SHARE:"topic_share",CATEGORY_HEADER_CLICKED:"category_header_clicked",HOVERCARD_VIDEO_PLAYED:"hovercard_video_played",CLICK_TAG_IMPRESSION:"click_tag_impression"};}),null);
__d("TrendingLocation",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FBFEED_TOPIC_PIVOT:"ftp",FBFEED_TRENDING_TOPIC_PIVOT:"fttp",IOS_TRENDING_DASHBOARD_IN_BOOKMARK:"ios_trending_dashboard_in_bookmark",IOS_TRENDING_INTERSTITIAL:"ios_trending_interstitial",MSITE_PERMALINK:"mp",MSITE_QP:"mq",MSITE_HASHTAG_REDIRECTION:"mhr",MSITE_CARD_PIVOT:"mcp",MSITE_FEED_TOPIC_PIVOT:"mftp",MSITE_FEED_TRENDING_TOPIC_PIVOT:"mfttp",MSITE_NEWS_DASHBOARD:"mnd",MSITE_NEWS_MODULE:"mnm",MSITE_LIVE_EVENT:"mle",MSITE_PAGE_REDIRECTION:"mpr",MSITE_RELATED_TOPICS:"mrt",MSITE_ADS:"ma",MSITE_SEARCH_SPORT_MATCH_MODULE:"mssmm",WEB_FEED_TOPIC_PIVOT:"wftp",WEB_FEED_TRENDING_TOPIC_PIVOT:"wfttp",OLD_FEED_TOPIC_PIVOT:"oftp",OLD_FEED_TRENDING_TOPIC_PIVOT:"ofttp",WWW_PERMALINK:"wp",WWW_QP:"wq",WWW_HASHTAG_REDIRECTION:"whr",WWW_HIDDEN_RHC_TRENDING:"whrt",WWW_HOME_FEED_RHC_TRENDING:"whfrt",WWW_HOME_FEED_RHC_TRENDING_PLACES:"whfrtp",WWW_POST_LIKE_TOPIC_CHAINING:"wpltc",WWW_TOPIC_FEED_RHC_TRENDING:"wtfrt",WWW_POST_SEARCH_RHC_TRENDING:"wpsrt",WWW_PAGE_FEED_RHC_TRENDING:"wpfrt",WWW_BROWSE_RHC_TRENDING:"wbrt",WWW_BROWSE_LATEST_POSTS_TAB:"wblpt",WWW_WORLDCUP_RHC_TRENDING:"wwcrt",WWW_LIVE_EVENT:"wle",WWW_PAGE_REDIRECTION:"wpr",WWW_ADS:"wa",WWW_SEARCH_SPORT_MATCH_MODULE:"wssmm",WWW_NEWS:"wnews",UNKNOWN:"unknown",FBFEED_SENTIMENT_UNIT_PIVOT:"fsup",IOS_SIDEFEED:"ios_sidefeed",IOS_NEWS_FEED:"ios_news_feed",MTOUCH_NEWS_FEED:"mtouch_news_feed",ANDROID_NULL_STATE:"android_null_state",IOS_GRAPH_SEARCH_NULL_STATE:"ios_graph_search_null_state",MSITE_NEWS_NON_GS_NULL_STATE:"mnngns",MSITE_NEWS_NULL_STATE:"mnns",MSITE_LATEST_POSTS_TAB:"mlpt",WWW_NULL_STATE:"www_null_state",SEARCH_TRENDING_MODULE:"stm",IOS_TODAY_MAIN:"ios_today_main",IOS_TODAY_SEE_MORE:"ios_today_see_more",IOS_STORY_TOPIC_HEADER:"ios_story_topic_header",TOPIC_SHARE:"share",TOPIC_MOBILE_SHARE:"mobile_share"};}),null);
__d('TrendingRHCLogger',['csx','cx','AsyncSignal','BanzaiScuba','CSS','Event','Parent','Run','TrendingRHCConfig'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k,l,m,n,o,p,q,r=3,s=false;function t(y,z,aa,ba){var ca=new (c('BanzaiScuba'))('trending_rhc',null,{sampleRate:c('TrendingRHCConfig').sample_rate});ca.addNormal('country',n);ca.addNormal('post_search_trending_feeds',c('TrendingRHCConfig').post_search_trending_feeds);ca.addNormal('event',z);ca.addNormal('position',y);ca.addNormal('qe_group',k);var da=y<=r?l:q;ca.addNormal('source',da);ca.addNormVector('categories',aa);ca.addNormal('topic_id',ba);ca.post();}function u(y,z){var aa=y.getAttribute('data-position');if(!aa)return;var ba=y.getAttribute('data-categories'),ca=ba?JSON.parse(ba):[],da=y.getAttribute('data-topicid');t(aa,z,ca,da);}function v(event){var y=null,z=event.getTarget(),aa=c('Parent').bySelector(event.getTarget(),"._2w2e");if(aa){z=aa;}else if(!c('CSS').matchesSelector(z,"._5my2")){y=c('Parent').bySelector(z,"._4_nl");z=c('Parent').bySelector(z,"._5my2");}if(!z||y||c('CSS').matchesSelector(event.getTarget(),"._19_3")||c('CSS').matchesSelector(event.getTarget(),"._4v8h"))return;u(z,'click');var ba=z.getAttribute('data-position');if(ba==='seemore'||ba==='trendingheader')s=true;}function w(){if(!j)return;new (c('AsyncSignal'))('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(j),source:q,scores:JSON.stringify(o),query_id:p}).send();j=null;}var x={init:function y(z,aa){l=aa.source;k=aa.qe_group;n=aa.country;j=aa.hidden_keys;m=aa.query_id;o=aa.hidden_scores;var ba=c('Event').listen(z,'click',v);c('Run').onLeave(function(){ba.remove();});},initSeeMore:function y(z,aa,ba,ca,da){j=aa;o=ba;p=ca;q=da;var ea=c('Event').listen(z,'click',v);if(s){w();}else s=false;c('Run').onLeave(function(){ea.remove();});},logHovercardArticleClick:function y(z,aa){t(z,'hover_article_click',null,aa);},logHovercardFeedClick:function y(z,aa){t(z,'hover_feed_click',null,aa);},logHovercardShare:function y(z,aa){t(z,'topic_share',null,aa);},logImpression:function y(z){u(z,'imp');},getSource:function y(){return l;},getQueryID:function y(){return m;},getSeeMoreSource:function y(){return q;},getSeeMoreQueryID:function y(){return p;}};f.exports=x;}),null);
__d('TrendingHideReasons',['fbt','immutable'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('immutable').OrderedMap,j=i({5:h._("I want to see something else"),1:h._("I don't care about this"),2:h._("I keep seeing this"),3:h._("It's offensive or inappropriate"),4:h._("Other")});f.exports=j;}),null);
__d('TrendingTopicHideMenu.react',['cx','ix','fbt','Image.react','ImageBlock.react','InputLabel.react','LeftRight.react','Link.react','React','TrendingHideReasons','XUIRadioInput.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$TrendingTopicHideMenu1=function(){return (c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUIText.react'),{weight:'bold'},j._("Topic Hidden")),c('React').createElement(c('Link.react'),{className:"_4_nn"},j._("Undo"))));},this.$TrendingTopicHideMenu2=function(){return (c('React').createElement('div',{className:"_3-95"},j._("We'll try not to show you this topic again.")));},this.$TrendingTopicHideMenu3=function(){return (c('React').createElement('form',{action:'#',className:"_3-94"},c('React').createElement('div',{className:"_3-94"},j._("Why did you hide it?")),c('TrendingHideReasons').map(function(t,u){return (c('React').createElement(c('InputLabel.react'),{key:u},c('React').createElement(c('XUIRadioInput.react'),{className:"_2p3m",name:'trending_hide_reason',value:u,'data-topicid':this.props.topicId}),c('React').createElement('label',null,t)));}.bind(this)).toArray()));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('ImageBlock.react'),{className:"_4_nl",spacing:'none'},c('React').createElement(c('Image.react'),{className:"_19_0",src:i('/images/pubcontent/trending/grey_sparkline.png')}),c('React').createElement('div',null,this.$TrendingTopicHideMenu1(),this.$TrendingTopicHideMenu2(),this.$TrendingTopicHideMenu3()));};n.propTypes={topicId:m.number.isRequired,category:m.number.isRequired};f.exports=n;}),null);
__d("TrendingCategoriesIconUnitCallback",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null,i={register:function j(k){h=k;},callback:function j(k,l){h.setCategoryList(k,l);}};f.exports=i;}),null);
__d("XPubcontentTrendingCategoriesFetchListController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/categories\/fetch_list\/",{category:{type:"Enum",required:true,enumType:0},source:{type:"String",required:true},topic_ids_seen:{type:"IntVector",required:true}});}),null);
__d("XPubcontentTrendingReplaceTrendsController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/trending_unit\/",{is_expanded:{type:"Bool",defaultValue:false}});}),null);
__d('TrendingCategoriesIconUnit',['AsyncRequest','CSS','Event','Style','TrendingCategoriesIconUnitCallback','XPubcontentTrendingCategoriesFetchListController','XPubcontentTrendingReplaceTrendsController','enumerate','tidyEvent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$TrendingCategoriesIconUnit1=i.categoryIconMap;this.$TrendingCategoriesIconUnit2=i.categoryListMap;this.$TrendingCategoriesIconUnit3=i.categoryHeaderMap;this.$TrendingCategoriesIconUnit4=i.loadingBar;this.$TrendingCategoriesIconUnit5=i.selectedCategoryId;this.$TrendingCategoriesIconUnit6=i.selectedCategoryId;this.$TrendingCategoriesIconUnit7=i.source;this.$TrendingCategoriesIconUnit8=i.enableIconSeeMore;this.$TrendingCategoriesIconUnit9=[];var j=this.$TrendingCategoriesIconUnit2[this.$TrendingCategoriesIconUnit5];this.$TrendingCategoriesIconUnit10=j?j.getHeight():0;c('TrendingCategoriesIconUnitCallback').register(this);for(var k=c('enumerate')(this.$TrendingCategoriesIconUnit1),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var n;if(l){if(m>=k.length)break;n=k[m++];}else{m=k.next();if(m.done)break;n=m.value;}var o=n,p=o[1];this.$TrendingCategoriesIconUnit11(p);}this.$TrendingCategoriesIconUnit12(i.refreshSeconds,i.isExpanded);}h.prototype.setCategoryList=function(i,j){'use strict';this.$TrendingCategoriesIconUnit2[j]=i;if(j===this.$TrendingCategoriesIconUnit5){if(this.$TrendingCategoriesIconUnit4)c('CSS').hide(this.$TrendingCategoriesIconUnit4);this.$TrendingCategoriesIconUnit2[j].showItems();this.$TrendingCategoriesIconUnit10=this.$TrendingCategoriesIconUnit2[j].getHeight();}};h.prototype.$TrendingCategoriesIconUnit11=function(i){'use strict';var j=i.getCategoryId();c('tidyEvent')(c('Event').listen(i.getRoot(),'click',function(){var k=j===this.$TrendingCategoriesIconUnit6&&this.$TrendingCategoriesIconUnit8;if(k){if(j===this.$TrendingCategoriesIconUnit5)return;this.$TrendingCategoriesIconUnit2[j].fetchExtraItems();}if(j===this.$TrendingCategoriesIconUnit5)return;this.$TrendingCategoriesIconUnit1[this.$TrendingCategoriesIconUnit5].unselect();if(this.$TrendingCategoriesIconUnit2[this.$TrendingCategoriesIconUnit5]){this.$TrendingCategoriesIconUnit10=this.$TrendingCategoriesIconUnit2[this.$TrendingCategoriesIconUnit5].getHeight();this.$TrendingCategoriesIconUnit2[this.$TrendingCategoriesIconUnit5].hideItems();}this.$TrendingCategoriesIconUnit1[j].select();this.$TrendingCategoriesIconUnit5=j;if(this.$TrendingCategoriesIconUnit2[j]){if(this.$TrendingCategoriesIconUnit4)c('CSS').hide(this.$TrendingCategoriesIconUnit4);this.$TrendingCategoriesIconUnit2[j].showItems();this.$TrendingCategoriesIconUnit10=this.$TrendingCategoriesIconUnit2[j].getHeight();return;}c('Style').set(this.$TrendingCategoriesIconUnit4,'height',String(this.$TrendingCategoriesIconUnit10));c('CSS').show(this.$TrendingCategoriesIconUnit4);if(this.$TrendingCategoriesIconUnit9[j])return;this.$TrendingCategoriesIconUnit9[j]=true;var l=this.$TrendingCategoriesIconUnit2[this.$TrendingCategoriesIconUnit6],m=l.getCategoryItemInfo(),n=c('XPubcontentTrendingCategoriesFetchListController').getURIBuilder().setEnum('category',j).setString('source',this.$TrendingCategoriesIconUnit7).setIntVector('topic_ids_seen',m.visibleTopicIds).getURI();new (c('AsyncRequest'))().setURI(n).send();}.bind(this)));};h.prototype.$TrendingCategoriesIconUnit12=function(i,j){'use strict';var k=i*1000;setTimeout(function(){var l=c('XPubcontentTrendingReplaceTrendsController').getURIBuilder().setBool('is_expanded',j).getURI();new (c('AsyncRequest'))(l).send();},k);};f.exports=h;}),null);
__d("XPubcontentTrendingCategoriesInsertItemController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/categories\/hide_options\/",{num_removed_topics:{type:"Int",defaultValue:0},trending_topic_id:{type:"Int",required:true},topic_ids:{type:"IntVector",defaultValue:[]},category:{type:"Enum",required:true,enumType:0}});}),null);
__d("XPubcontentTrendingHideConfirmController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/hide_confirm\/",{hidden_topic_id:{type:"Int",required:true},position:{type:"Int",defaultValue:0},reason:{type:"Int",required:true},source:{type:"String"},trqid:{type:"Int",defaultValue:-1}});}),null);
__d('TrendingCategoriesRHCHide',['csx','cx','AsyncRequest','CSS','DOM','DOMQuery','Event','Parent','React','ReactDOM','TrendingRHCLogger','TrendingTopicHideMenu.react','URI','XPubcontentTrendingCategoriesInsertItemController','XPubcontentTrendingHideConfirmController','tidyEvent'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=[],k=[],l=false,m=['webkitAnimationEnd','animationend','mozAnimationEnd','oAnimationEnd','MSAnimationEnd'];function n(q,r){var s=c('DOMQuery').scry(q,"._5my2"),t=s.filter(function(v){var w=Number(v.getAttribute('data-position'));return w>=r;}),u=[];t.forEach(function(v){var w=Number(v.getAttribute('data-position'));v.setAttribute('data-position',w-1);var x=c('DOMQuery').scry(v,"._7ge");x.forEach(function(y){var z=new (c('URI'))(y.getAttribute('href')).addQueryData('position',w-1);u.push({link:y,uri:z.toString()});});});u.forEach(function(v){var w=v.link;w.setAttribute('href',v.uri);});}function o(q,r,s){var t=c('DOMQuery').find(q,"^._2snq"),u=c('DOMQuery').find(q,"^._5my2"),v=c('DOM').create('div',{className:"_4_nj"}),w=Number(u.getAttribute('data-position'));n(t,w);j[s].showExtraItem();j[s].removeItem(u);c('DOM').insertBefore(u,v);m.forEach(function(event){v.addEventListener(event,function(){c('CSS').removeClass(v,"_4_nj");});});var x=c('XPubcontentTrendingHideConfirmController').getURIBuilder().setInt('reason',q.firstChild.value).setInt('hidden_topic_id',r).setInt('position',w);if(c('TrendingRHCLogger').getSource())x.setString('source',c('TrendingRHCLogger').getSource());if(c('TrendingRHCLogger').getQueryID())x.setInt('trqid',c('TrendingRHCLogger').getQueryID());var y=x.getURI();new (c('AsyncRequest'))().setURI(y).setRelativeTo(q).send();}var p={addCategoryList:function q(r,s){j[s]=r;},confirmHide:function q(r,s,t){var u=false;c('tidyEvent')(c('Event').listen(r,'click',function(){setTimeout(function(){if(u)return;u=true;o(r,s,t,false);},100);}));},onHideReasonClicked:function q(r,s){var t=c('DOMQuery').find(r,'input[name="trending_hide_reason"]'),u=parseInt(t.getAttribute('data-topicid'),10);if(k[u])return;k[u]=true;setTimeout(function(){o(r,u,s);k[u]=false;},100);},listenForHide:function q(r,s,t){c('tidyEvent')(c('Event').listen(r,'click',function(){var u=c('DOMQuery').find(r,"^._5my2"),v=c('DOMQuery').find(u,"._4_nl"),w=c('DOMQuery').find(u,"._4_nm");c('CSS').hide(w);c('CSS').show(v);if(!l){if(j[t]==null)return;l=true;var x=j[t].getCategoryItemInfo(),y=x.visibleTopicIds.concat(x.hiddenTopicIds,x.removedTopicIds),z=x.removedTopicIds.length,aa=c('XPubcontentTrendingCategoriesInsertItemController').getURIBuilder().setInt('trending_topic_id',s).setIntVector('topic_ids',y).setInt('num_removed_topics',z).setEnum('category',t).getURI();new (c('AsyncRequest'))().setURI(aa).setRelativeTo(r).setHandler(function(){l=false;}).send();}}));},onHideClicked:function q(r,s){var t=parseInt(r.getAttribute('data-topicid'),10),u=c('DOMQuery').find(r,"^._5my2"),v=c('DOM').scry(u,"._4_nl"),w=c('DOMQuery').find(u,"._4_nm");c('CSS').hide(w);if(v.length){v.map(c('CSS').show);}else{var x=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('TrendingTopicHideMenu.react'),{topicId:t,category:s}),x);c('DOM').appendContent(u,x);}if(!l){if(j[s]==null)return;l=true;var y=j[s].getCategoryItemInfo(),z=y.visibleTopicIds.concat(y.hiddenTopicIds,y.removedTopicIds),aa=y.removedTopicIds.length,ba=c('XPubcontentTrendingCategoriesInsertItemController').getURIBuilder().setInt('trending_topic_id',t).setIntVector('topic_ids',z).setInt('num_removed_topics',aa).setEnum('category',s).getURI();new (c('AsyncRequest'))().setURI(ba).setRelativeTo(r).setHandler(function(){l=false;}).send();}},listenForUndo:function q(r){var s=c('DOMQuery').find(r,"._4_nn");c('tidyEvent')(c('Event').listen(s,'click',function(){var t=c('DOMQuery').find(r,"^._5my2 ._4_nm");c('CSS').hide(r);c('CSS').show(t);}));},onHideMenuUndoClicked:function q(r,s){var t=c('DOMQuery').find(r,"^._4_nl"),u=c('DOMQuery').find(t,"^._5my2 ._4_nm");c('CSS').hide(t);c('CSS').show(u);},hideSeeMoreLink:function q(r,s){var t=j[s].getCategoryItemInfo();if(t.hiddenTopicIds.length!==0)return;var u=c('Parent').bySelector(r,"._5my7"),v=c('DOMQuery').scry(u,"a._5my9");if(v&&v.length===1&&c('CSS').shown(v[0]))c('CSS').addClass(v[0],"_4_nk");}};f.exports=p;}),null);
__d('TrendingCategoryIcon',['cx','BanzaiLogger','CSS','TrendingEvent'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$TrendingCategoryIcon1=j;this.$TrendingCategoryIcon2=k.iconElement;this.$TrendingCategoryIcon4=k.unselectedClass;this.$TrendingCategoryIcon5=k.selectedClass;this.$TrendingCategoryIcon6=k.categoryId;this.$TrendingCategoryIcon7=k.categoryLoggingOffset;this.$TrendingCategoryIcon8=parseInt(k.queryId,10);this.$TrendingCategoryIcon9=k.source;}i.prototype.getRoot=function(){'use strict';return this.$TrendingCategoryIcon1;};i.prototype.getCategoryId=function(){'use strict';return this.$TrendingCategoryIcon6;};i.prototype.select=function(){'use strict';c('CSS').addClass(this.$TrendingCategoryIcon1,"_5nns");c('CSS').addClass(this.$TrendingCategoryIcon2,this.$TrendingCategoryIcon5);c('CSS').removeClass(this.$TrendingCategoryIcon2,this.$TrendingCategoryIcon4);this.$TrendingCategoryIcon10();};i.prototype.unselect=function(){'use strict';c('CSS').removeClass(this.$TrendingCategoryIcon1,"_5nns");c('CSS').addClass(this.$TrendingCategoryIcon2,this.$TrendingCategoryIcon4);c('CSS').removeClass(this.$TrendingCategoryIcon2,this.$TrendingCategoryIcon5);};i.prototype.$TrendingCategoryIcon10=function(){'use strict';var j={trending_event:c('TrendingEvent').CATEGORY_HEADER_CLICKED,trending_location:this.$TrendingCategoryIcon9,trending_positions:[this.$TrendingCategoryIcon7],query_id:this.$TrendingCategoryIcon8,tagids:[]};c('BanzaiLogger').log('TrendingEventLoggerConfig',j);};f.exports=i;}),null);
__d('TrendingCategoryConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ANIMATION_EVENTS:['webkitAnimationEnd','animationend','mozAnimationEnd','oAnimationEnd','MSAnimationEnd'],FAILSAFE_LIMIT:50,HEADLINE_TEXT_HEIGHT:30};}),null);
__d("XPubcontentTrendingCategoriesImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/categories\/log_impression\/",{topic_ids_by_position:{type:"IntToIntMap",required:true},source:{type:"String",required:true},query_id:{type:"Int",required:true}});}),null);
__d("XPubcontentTrendingCategoriesSeeMoreController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/trending\/categories\/see_more\/",{topic_ids_seen:{type:"IntVector",defaultValue:[]},num_topics_to_add:{type:"Int",required:true},num_removed_topics:{type:"Int",defaultValue:0},category:{type:"Enum",required:true,enumType:0}});}),null);
__d('TrendingCategoryList',['csx','cx','AsyncRequest','CSS','DOM','Event','Parent','TrendingCategoriesRHCHide','TrendingCategoryConstants','TrendingLocation','XPubcontentTrendingCategoriesImpressionLoggingController','XPubcontentTrendingCategoriesSeeMoreController','getElementText','getStyleProperty','setImmediate','tidyEvent'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o){'use strict';this.$TrendingCategoryList1=k;this.$TrendingCategoryList2=l;this.$TrendingCategoryList3=n;this.$TrendingCategoryList4=o;this.$TrendingCategoryList5=m.category;this.$TrendingCategoryList6=m.rowsAfterSeeMore;this.$TrendingCategoryList9=m.source;this.$TrendingCategoryList7=m.queryId;this.$TrendingCategoryList8=false;this.$TrendingCategoryList10=m.truncateHeadlinesWithAttribution;c('TrendingCategoriesRHCHide').addCategoryList(this,this.$TrendingCategoryList5);if(m.useDelegateListener)this.$TrendingCategoryList11();this.$TrendingCategoryList12();if(this.$TrendingCategoryList10)this.$TrendingCategoryList13();}j.prototype.showItems=function(){'use strict';c('CSS').show(this.$TrendingCategoryList1);var k=this.getCategoryItemInfo();this.$TrendingCategoryList14(k.visibleTopicIds,k.visiblePositions,this.$TrendingCategoryList9);};j.prototype.hideItems=function(){'use strict';c('CSS').hide(this.$TrendingCategoryList1);};j.prototype.getHeight=function(){'use strict';return c('getStyleProperty')(this.$TrendingCategoryList1,'height');};j.prototype.getCategoryItemInfo=function(){'use strict';var k=[],l=[],m=[],n=[],o=[];c('DOM').scry(this.$TrendingCategoryList1,"._5my2").forEach(function(p){if(c('CSS').matchesSelector(p,"._5my9")||c('CSS').matchesSelector(p,"._5otw"))return;var q=Number(p.getAttribute('data-topicid')),r=Number(p.getAttribute('data-position'));if(c('CSS').matchesSelector(p,"._338c")){o.push(q);}else if(c('CSS').matchesSelector(p,"._5my1")){m.push(q);n.push(r);}else{k.push(q);l.push(r);}});return {visibleTopicIds:k,visiblePositions:l,hiddenTopicIds:m,hiddenPositions:n,removedTopicIds:o};};j.prototype.showExtraItem=function(){var k,l=this;'use strict';var m=c('DOM').scry(this.$TrendingCategoryList1,"._5my1");if(m.length===0)return;var n=Number.MAX_VALUE,o=null;m.forEach(function(p){var q=parseInt(p.getAttribute('data-position'),10);if(q<n){o=p;n=q;}});if(o!==null)(function(){var p=o;c('CSS').removeClass(p,"_5my1");c('CSS').addClass(p,"_4_ni");c('CSS').show(p);c('TrendingCategoryConstants').ANIMATION_EVENTS.forEach(function(event){p.addEventListener(event,function(){c('CSS').removeClass(p,"_4_ni");});});l.$TrendingCategoryList14([Number(p.getAttribute('data-topicid'))],[Number(p.getAttribute('data-position'))],c('TrendingLocation').WWW_HIDDEN_RHC_TRENDING);})();};j.prototype.removeItem=function(k){'use strict';c('CSS').addClass(k,"_338c");c('CSS').hide(k);};j.prototype.fetchExtraItems=function(){'use strict';if(this.$TrendingCategoryList8)return;this.$TrendingCategoryList8=true;if(this.$TrendingCategoryList2!==null)c('CSS').hide(this.$TrendingCategoryList2);var k=this.getCategoryItemInfo(),l=this.$TrendingCategoryList6-k.hiddenTopicIds.length;if(l<=0){this.$TrendingCategoryList15();return;}var m=c('DOM').find(this.$TrendingCategoryList1,"._30_w");c('CSS').show(m);var n=k.visibleTopicIds.concat(k.hiddenTopicIds,k.removedTopicIds),o=c('XPubcontentTrendingCategoriesSeeMoreController').getURIBuilder().setIntVector('topic_ids_seen',n).setInt('num_topics_to_add',l).setInt('num_removed_topics',k.removedTopicIds.length).setEnum('category',this.$TrendingCategoryList5).getURI();new (c('AsyncRequest'))().setURI(o).setRelativeTo(this.$TrendingCategoryList1).setHandler(function(p){c('CSS').hide(m);this.$TrendingCategoryList15();if(this.$TrendingCategoryList10)c('setImmediate')(function(){return this.$TrendingCategoryList13();}.bind(this));if(this.$TrendingCategoryList3)this.$TrendingCategoryList16();}.bind(this)).send();};j.prototype.$TrendingCategoryList11=function(){'use strict';c('tidyEvent')(c('Event').listen(this.$TrendingCategoryList1,'click',function(event){var k=event.getTarget();if(c('CSS').matchesSelector(k,"._19_3")){var l=c('DOM').find(k,"._4v8h");c('TrendingCategoriesRHCHide').onHideClicked(l,this.$TrendingCategoryList5);return;}else if(c('CSS').matchesSelector(k,"._4v8h")){c('TrendingCategoriesRHCHide').onHideClicked(k,this.$TrendingCategoryList5);return;}var m=c('Parent').bySelector(k,"._2p3m");if(m){c('TrendingCategoriesRHCHide').onHideReasonClicked(m,this.$TrendingCategoryList5);return;}var n=c('Parent').bySelector(k,"._4_nn");if(n){c('TrendingCategoriesRHCHide').onHideMenuUndoClicked(n,this.$TrendingCategoryList5);return;}}.bind(this)));};j.prototype.$TrendingCategoryList16=function(){'use strict';c('CSS').hide(this.$TrendingCategoryList3);c('CSS').show(this.$TrendingCategoryList4);};j.prototype.$TrendingCategoryList12=function(){'use strict';if(this.$TrendingCategoryList2==null)return;c('tidyEvent')(c('Event').listen(this.$TrendingCategoryList2,'click',function(){c('CSS').hide(this.$TrendingCategoryList2);this.fetchExtraItems();}.bind(this)));};j.prototype.$TrendingCategoryList15=function(){'use strict';var k=c('DOM').scry(this.$TrendingCategoryList1,"._5my1");if(k.length===0)return;var l=Math.min(this.$TrendingCategoryList6,k.length),m=[],n=[];for(var o=0;o<l;o++){c('CSS').show(k[o]);c('CSS').removeClass(k[o],"_5my1");m.push(Number(k[o].getAttribute('data-topicid')));n.push(Number(k[o].getAttribute('data-position')));}this.$TrendingCategoryList14(m,n,c('TrendingLocation').WWW_HIDDEN_RHC_TRENDING);};j.prototype.$TrendingCategoryList14=function(k,l,m){'use strict';if(k.length===0)return;var n={};for(var o=0;o<k.length;o++)n[l[o]]=k[o];var p=c('XPubcontentTrendingCategoriesImpressionLoggingController').getURIBuilder().setIntToIntMap('topic_ids_by_position',n).setString('source',m).setInt('query_id',this.$TrendingCategoryList7).getURI();new (c('AsyncRequest'))(p).send();};j.prototype.$TrendingCategoryList13=function(){'use strict';var k=c('DOM').scry(this.$TrendingCategoryList1,"._5v9v");k.forEach(function(l){var m=0,n='\u2026',o=' \u2013 ';c('setImmediate')(function(){while(this.$TrendingCategoryList17(l)){var p=c('getElementText')(l),q=p.split(o),r=q.pop(),s=[];for(var t=0;t<q.length;t++){var u=q[t].split(' ');s=s.concat(u);}s=s.filter(function(x){return x!='';});s.pop();var v=s.join(' '),w=n+o+r;v+=w;c('DOM').setContent(l,v);m++;if(m>=c('TrendingCategoryConstants').FAILSAFE_LIMIT)break;}}.bind(this));}.bind(this));};j.prototype.$TrendingCategoryList17=function(k){'use strict';return k.scrollHeight>c('TrendingCategoryConstants').HEADLINE_TEXT_HEIGHT;};f.exports=j;}),null);